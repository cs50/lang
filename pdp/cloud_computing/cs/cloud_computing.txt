DAVID Malan: Dobře, vítej zpátky. Než se ponoříme do cloud computing, Myslel jsem, že na chvíli pozastavit zda existují nějaké nevyřešené otázky nebo témat, která přišla během oběda které by mohly být nyní předmětem zájmu. Diváků: [neslyšitelné] 

DAVID Malan: OK. Oh, OK. Diváků: [neslyšitelné] 

DAVID Malan: Ne, samozřejmě. OK, no snad všechny své Problémy vznikají v nejbližších hodinách a zítra hlavně. Ale pojďme se podívat, pak na místo, kde Poslední diskuse o zřízení webové stránky vede obecněji pokud jde o cloud computing, zřízení serverovou architekturu, druhy rozhodnutí že inženýři a vývojáři a manažeři muset provést, pokud jde dělat víc, než jen přihlášení se k $ 10 za měsíc webhostingu pokud skutečně chtějí budovat ven vlastní infrastrukturu. A my se pokusíme svázat to zpátky, Například na Dropbox a další jako oni. 

Takže začněme uvažovat jakými problémy vznikají v podnikání dostane dobré a dobré vzniknou problémy. Takže ve velmi nejjednodušším případě, že bude někteří společnost, která má webový server, můžete mít, řekněme, že server budeme jen kreslit, které vypadá takto. A v těchto dnech, většina servers-- a pojďme skutečně dát obrázek, jak to jen proto, že je to trochu méně mlhavé. 

Takže Dell rack server-- zpět v den, tam byly sálové počítače že vzal celé místnosti. V těchto dnech, pokud jste byli získat server, může vypadat trochu něco takového. Servery jsou měřeny v jakých se nazývají regálové jednotky, nebo železničním podnikům. A jeden RU je 1,5 palce, což je průmyslový standard. Takže to vypadá jako server dvě RU. Takže je to 3 palce vysoký. A oni jsou obvykle 19 palců, což znamená, že všechny tohoto druhu věcí je standardizován. 

Takže pokud se podíváte do datového center-- ne jen na jednom serveru, ale pojďme podívejte se na společnosti Google datové centrum a uvidíme, jestli budeme viz pěkný obrázek Google Images. To je mnohem lepší než ty osvětlené by obvykle najít a mnoho svůdnější vypadající jako výsledek. Ale To je něco, co vypadá jako pár Sto servery vše o stejné velikosti, ve skutečnosti, v rámu po stojanu po rack po stojanu v datovém centru. 

Něco podobného by mohlo dojít k tohle-- dobře Google se to, protože jsem googled společnosti Google. Ale může to být reprezentativní of obecněji datové centrum, ve kterém mnozí společnosti jsou obvykle umístěny na stejném místě. A co-umístil se obecně rozumí že jdete na místo, jako je Equinix nebo jiných dodavatelů, které mají velký sklady, které mají hodně energie, spousta chlazení doufejme spousta bezpečnosti, a jednotlivé klece obvodových regály servery, a to buď pronajmout regály nebo si přinést stojanů. 

A jednotlivé společnosti, začínajících zejména, bude mít nějaký druh biometrie dostat se do klece, nebo klíč, nebo klíč karty. Můžete otevřít dveře. A uvnitř je jen čtvercový záběry stopa že platíte za, vnitřek které si můžete dát cokoliv chcete. 

A obvykle zaplatit za moc. A budete platit za stopách. A pak budete platit yourself pro servery že jste uvedení do tohoto prostoru. A co pak mít Možnost udělat, je zaplatit někoho, pro připojení k internetu služby. Můžete si zaplatit libovolný počet prodejců, z nichž všichni obvykle přicházejí do tohoto datového centra. 

Ale skutečná zajímavou otázkou je, co se vlastně děje v těch regálů? Mohli by všichni velmi dobře vypadat jako to, co jsme právě viděli. Ale oni vykonávají různé funkce a může být nutné dělat různé věci. A nechat to vlastně motivovat tuto diskuzi s otázkou, jaký problém začne nastat, pokud jste úspěšní? 

Takže máte webové stránky že jste postavena. A možná to prodává widgety nebo něco takového. A vy jste dělal velmi dobře s tržbami widgety on-line. A začnete zažít Některé příznaky, vaše webové stránky. Co by mohlo být některými z technické symptomy že uživatelé budou vykazovat jako podnikání roste a vzkvétá a vaše webové stránky těží z toho vyplývá? 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, přesně tak. Takže byste mohli mít Zpomalení své webové stránky. A proč by to mohlo stát? No, pokud budeme předpokládat, pro Z důvodu diskuse právě teď, že jste na jednom z těchto komerčních internetových hostitelů že jsme o tom mluvili před obědem, že budete platit určitý počet dolarů se za měsíc, a vy jste již zaplatili pro roční náklady na vaší doméně pojmenovat, že web hostitele je pravděpodobně overselling své zdroje do určité míry. Takže můžete mít uživatelské jméno a heslo na svém serveru. Ale stejně tak se může týkat několik druhý nebo několik desítkami dalších, nebo možná i několik stovky dalších, uživatelé. 

A webové stránky žít fyzicky na stejném serveru. Proč je to možné? No v těchto dnech, servery takhle typicky mají více pevných disků, možná tolik jako šest nebo více pevných disků, přičemž každý z nich může být až as 4 TB v těchto dnech. Takže můžete mít 24 terabajtů prostoru pouze v jednom malém serveru, jako je tato. 

A i když se ukrást některé z tohoto prostoru pro redundanci, pro účely zálohování, je to stále poměrně dost prostoru. A jistě, typické webové stránky nepotřebuje tolik prostoru. Jen registraci uživatelů a ukládání logů objednávek nebere všechnu tu mnoho prostoru. Takže ji můžete rozdělit poměrně trochu a dát každému uživateli jen malý plátek to. 

Mezitím, počítačový takhle těchto dnech typicky má více CPUs-- nejen jeden, možná dva, možná čtyři, možná 16, nebo i více. A každý z těchto procesorů Má něco, co nazývá jádro, což je něco jako mozek uvnitř mozku. Takže ve skutečnosti většina každého zde s Moderní notebooky má pravděpodobně dvoujádrový nebo quad core CPU-- a pravděpodobně jen jeden CPU uvnitř notebooku v těchto dnech. Ale stolní počítače a regálové počítače, jako je to může mít poměrně málo více CPU, a na oplátku jader. 

A upřímně řečeno, dokonce i v našich Maců a PC s Dnes, nemáte opravdu potřebují dvou jader nebo quad jádra zkontrolovat svůj e-mail. Pokud existuje nějaká překážkou při jde o použití počítače, jste lidský jsou pravděpodobně nejpomalejší věc na tomto počítači. A vy nebudete mít možnost zkontrolovat svůj e-mail rychleji, pokud vás mají čtyřikrát více procesory nebo jádra. 

Totéž však druh true ze serveru. Jediná možná ne webové stránky nutně potřebovat více než jeden CPU nebo jedno jádro, jeden malý mozek uvnitř dělá všechny myšlení a zpracování. Takže výrobci mají podobně začal krájet těchto zdrojů takže možná vaše webové stránky dostane jeden jádro, vaše webové stránky dostane jedno jádro, nebo možná budeme sdílet jednu takovou jádro. Jsme také sdílet místo na disku. A my jsme také sdílet RAM, nebo Random Access Memory od dříve, z nichž tam je také konečné množství. 

A to je klíč. Bez ohledu na to, jak drahé byl počítač, je tu stále konečný Výše prostředků v něm. A tak stále více a více vás pokusit se konzumovat tyto prostředky, pomalejší věci se může stát. Ale proč? Proč by se věci zpomalit jako příznakem serveru zahltili? Co se děje? 

Diváků: [neslyšitelné] DAVID Malan: Jo, přesně tak. Navrhl jsem, že dříve RAM je typ paměti. Je to těkavá, přičemž to je kde aplikace a data jsou skladovat, když jsou používány. A tak tedy tu jen konečný počet věcí, které můžete udělat zřejmě najednou. A je to také rychlejší, což je dobrá věc. Ale je to také dražší, což je špatná věc. A je to také proto přítomné v dolní Množství, než místa na disku, pevný disk prostor, který má tendenci být levnější. 

Jinými slovy, může mít 4 TB místa na disku v počítači. Ale můžete mít 4 GB nebo 64 GB, v pořadí velikosti, koeficientem 1000 méně, paměti RAM v počítači. Takže to, co dělá počítač dělat? No, předpokládám, že vy přece mají 64 gigabajtů RAM na serveru, jako je tato, která by bylo zcela běžné, není-li nízká tyto dny. Ale předpokládejme, že máte tolik Uživatelé dělat tolik věcí že tak nějak jaksi Potřebujeme 65 GB paměti zvládnout všechno simultánní využití? 

No, mohl bys jen říct, líto, někteří počet uživatelů prostě nemůže získat přístup k webu. A to je měřítkem poslední instance, jistě. Nebo vy, jako provozní systém, jako je Windows nebo Mac OS či Linux nebo Solaris nebo jakékoliv Řada dalších operačních systémů na tomto serveru, mohl rozhodnout, víš co? Mám jen 64 GB paměti RAM. Tak nějak jsem potřebovat 65. Tak víte co? Chystám se vzít 1 gigabajt v hodnotě dat v paměti RAM která byla nejméně nedávno přistupovat a jen přesunout ji na disk dočasně, Doslova kopírovat to z rychlého Paměť na pomalejší paměti takže jsem se pak může zpracovat, že 65. gigabyte potřeba paměti, udělat nějaké výpočty na to. Pak, když jsem udělal dělat to, Budu jen navrhnout, aby na disk, přesunout tu druhou RAM I dočasně dal na disku zpět do skutečného hardware tak, že jsem trochu multitasking. 

Takže jsem tak nějak uvedení věci dočasně v tomto pomalejším prostoru tak jsem vytvořit iluzi manipulační každého. Ale je tu zpomalení. Proč? No, vnitřek z nich těžké disky v těchto dnech je to, co? Spíše to, co dělá tvrdé jízdy se liší od paměti RAM jak nejlépe víte teď? 

Diváků: [neslyšitelné] 

DAVID Malan: OK, to je pravda. Diváků: [neslyšitelné] 

DAVID Malan: Takže velmi pravdivý. A to je vedlejší účinek nebo vlastnost k tomu, že RAM je skutečně rychlejší. A proto, že chcete používat jej pro současné použití. A disk je pomalejší. Ale je to trvalé, nebo energeticky nezávislá. Tak jej použít pro dlouhodobé skladování. Ale pokud jde o implementace, když vzhlédnout co se nazývá DIMM Dual Inline Memory Modul, to je to, co kus RAM Možná typicky vypadat. 

Takže uvnitř naší Mac--, že je to chyba. Uvnitř našich Maců a PC, naše stolních Počítače by měl hole paměti, jak byste jim zavolat, nebo DIMM nebo SIMM zpět v den, paměti které vypadají takhle. Naše notebooky pravděpodobně věci, které jsou třetiny velikosti nebo poloviční velikost. Jsou o něco menší, ale stejný idea-- málo kousky zeleného křemíku oplatky nebo plast, který Má malé černé čipy na nich se spoustou drátů propojení všechno. Ty by mohly mít spoustu Tyto uvnitř počítače. Ale tady je stánek s jídlem to je zcela elektronické. Je tu jen elektrony tekoucí na tomto zařízení. Naproti tomu, pokud se podíváme na uvnitř pevného disku a vytáhnout obrázek Odtud byste namísto vidět něco takového, který má mít elektřinu procházejí ní nakonec. Ale co také vyskočí u vás o této věci? Diváků: [neslyšitelné] DAVID Malan: Jo, je tu zřejmě pohyblivých částí. Je to něco jako starý rekord přehrávač nebo gramofon přehrávač. A to do značné míry je. Je to trochu milovník než to-- vzhledem k tomu, gramofonové přehrávače používané drážek v záznamu, toto vlastně používá malinké magnetické částice že nemůžeme zcela vidět. Ale pokud trochou magnetické částice vypadá to, že to považuje za 1. A pokud to vypadá takhle, sever-jih namísto jih-sever, to by mohlo být 0. A uvidíme zítra, jak můžeme budovat z toho více zajímavých věcí. 

Ale něco to je dostal fyzicky přesunout Je jistě půjde pomaleji než je rychlost světla, který teoreticky je to, co elektron může proudit, ačkoli realisticky ne tak docela. Takže mechanické devices-- mnohem pomaleji. Ale jsou levnější. A vy se vejde tolik více dat uvnitř nich. Tak, že tam existuje ve světě něčím volal virtuální paměť, použití pevného disku, jako je tento jako by to byl RAM pro uživatele transparentní, jednoduše tím, že přesun dat z paměti na pevný disk, pak ho vrací zpět, když budete potřebovat to opět vytvoří zpomalení. Protože máte doslova na zkopírovat z jednoho místa na druhé. A co vy zkopírováním a z je ve skutečnosti nižší než velikost paměti RAM kde chcete, aby to bylo. 

Alternativní řešení here-- pokud se vám nelíbí, že zpomalit, a vaše virtuální paměť druh byli přetíženi, Co je další řešení tohoto problému? 

Diváků: [neslyšitelné] DAVID Malan: No, zvýšení virtuální paměti by nám to na ještě větší váha. Mohli bychom zvládnout 66 gigabajtů hodnotě paměťových potřebách nebo 67 GB. Ale předpokládám, že nemám rád Tento zpomalení, ve skutečnosti Chci vypnout virtuální Paměť pokud je to vůbec možné, co jiného bych mohl hodit na Tento problém vyřešit, kde chci zvládnout více uživatelů a další požadavky na paměť než jsem fyzicky mají v současné době? 

Diváků: [neslyšitelné] 

DAVID Malan: Bohužel ne. Takže CPU a jádra je máte V je omezený zdroj. A tam je v tomto kontextu není analogový. Dobrá otázka, ačkoli. Jen aby bylo jasno, taky, pokud Vnitřek je tento počítač, řekněme, tyč paměti RAM, která vypadá jako tohle-- a tak budeme nazývat RAM. A tady je pevný disk. A já budu jen čerpat toto obrazově jako malý kruh. Existuje 0 a 1 je v obou these-- údaje, budeme generalizovat jako. 

A v podstatě, pokud je uživatel spuštění aplikace líbí, řekněme, webové stránky, které vyžaduje toto Kolik RAM pro každého uživatele, co tím chci navrhnout, prostřednictvím této věci volal virtuální paměť, Je jen dočasně přesunout že více než tady, takže teď se může pohybovat paměti někoho jiného Požadavky tam. A pak, když je toto hotovo, Mohu kopírovat to zpátky přes a to jde tady, čímž se posouvá co chtěl jsem tam někde jinde celkem. 

Takže je tu jen hodně Switcheroo, je stánek s jídlem zde. Takže pokud se vám nelíbí to, a vy ne chtít dát nic na pevném disku, co je druh zřejmé Řešení obchodního osoby problému, nebo inženýr je řešení, když na to přijde taky? 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, myslím doslovně házet peníze na problém. A skutečně, je to perfektní segue na některé z vyšší úrovně diskuse o cloud computing. Vzhledem k tomu, hodně z toho je motivováno finančními rozhodnutími, ani nutně technologické. V případě 64 giga RAM je příliš málo, dobře, proč ne dostat 128 gigabajty RAM? Proč ne dostat 256 gigabajty RAM? No, proč ne? 

Diváků: [neslyšitelné] DAVID Malan: No, stojí více peněz, jistě. A pokud již máte náhradní na pevném disku, efektivně, nebo ekvivalentně místa na pevném disku je natolik mnohem levnější, můžete jej také použít. Takže znovu, tam je to kompromis, který jsme viděli již dříve na tomto ráno, tam, kde to opravdu není nutně správná odpověď, tam prostě lepší nebo horší odpověď založené na tom, co vlastně záleží. 

Takže je tu i technologické realitě. Nemohu koupit počítač, Pokud vím, s bilion GB RAM právě teď. Je to prostě fyzicky neexistuje. Takže tam je nějaký horní mez. Ale pokud jste někdy dokonce nakupovali pro spotřebitele Mac nebo PC, Také obecně je tu Tato křivka funkcí tam, kde by mohl být dobrý, lepší, a nejlépe počítač. 

A marginální vrací na nákup dolaru nejlepší počítač oproti tím lépe počítač nemusí být téměř tak vysoké jak strávit trochu více peněz a získat lepší počítač přes dobrou počítače. Jinými slovy, platíte prémie dostat horní linie. 

A to, co uvidíme v Diskuse o cloud computing je, že to, co je velmi časté tito dny, a to, co společnosti jako Google brzy propagován, nevěnoval pro stavební a opravdu fantazie, drahé nadupaným do počítače s spousta všeho, ale spíše koupi či stavbu dost skromné ​​počítače, ale mnoho z nich, a pomocí něco, co je všeobecně volal horizontální škálování namísto vertikálního měřítka. 

Takže vertikální scaling by znamenalo získat více RAM, větší disk, více všeho, a tak nějak investovat vertikálně ve svém hardwaru takže jste jen získat co Nejlepší z nejlepších z nejlepších, ale platíte za to. Horizontální škálování je tak nějak dostat spodní řadou věcí, dobrý model nebo dokonce horší model ale získat spoustu z nich. Ale jakmile se objeví spousta them-- Například, v tomto případě, webové servery, pokud tento jeden server nebo jeden web hostitele je nedostatečná, pak už jen intuitivně se Řešení tohoto problému zatížení nebo přetížení na serverech je buď získat větší serveru nebo, co tím chci navrhnout zde namísto škálování vertikálně tak říkajíc, by bylo, víte co? Jen si druhý z nich. Nebo možná dokonce dostat třetiny. Ale teď jsme vytvořili inženýrství problém podle povahy této činnosti nebo finanční rozhodnutí. Co je teď inženýrství problém? 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, jak se jim připojit a-- líto? 

Diváků: [neslyšitelné] DAVID Malan: Správně, protože jsem pořád have-- když jsem znovu zavést mě do obrázku, pokud je to někde můj notebook na internetu, který je nyní mezi já a společnost mluvíme, teď musím přijít na to, ke kterému serveru mohu poslat tento konkrétní uživatele? A jestli je ostatní uživatelé, stejně jako toto, a pak tahle tady, a možná to je uživatel A tento je uživatel B, to je uživatel C, a to je server, 1, 2, a nyní 3-- intuitivní odpověď by mohla být právě zde, pošleme Uživatel A na 1 a B 2 a C 3. A můžeme zvládnout 3krát jako mnoho uživatelů. 

Ale to je oversimplification. Jak se rozhodnout, koho poslat kde? Tak zkusme uvažovat přes to. Takže předpokládám, že počítače A, B, a C jsou zákazníci, a servery 1, 2 a 3 jsou horizontálně zmenšen servery. Takže jsou tak nějak stejné. Jsou to všechno běží stejný software. A mohou všichni dělají totéž. Ale důvod, proč máme tři z nich je tak že můžeme zvládnout tři časy jako mnoho lidí najednou. 

Takže víme z našich Diskuse před obědem že tam je hardware v rozmezí notebooky a servery. Ale my tak nějak zobecnit že nyní jako je internet nebo oblaku. Ale víme, že v mém domě, tam je asi domácí router. V blízkosti servery, je to asi router, DNS server DHCP. Tam může být cokoliv Chceme v tomto příběhu. 

Tak jak začneme rozhodnout, když uživatel A jde do something.com, který server směrovat uživateli? Jak můžeme začít vyprávět tento příběh? Diváků: Vyrovnávání zatížení? DAVID Malan: Vyrovnávání zatížení. Co tím myslíš? 

Diváků: Vrácení kde je nejvíce použití je a který má Většina dostupných zdrojů. DAVID Malan: OK, tak ať mi představit nový typ hardware které jsme dosud diskutovali, což je přesně to, vyrovnávání zatížení. I to může být jen server. Mohlo by to vypadat přesně jako ta, kterou jsme viděli před chvílí. Vyrovnávání zatížení je opravdu jen kus softwaru spustit na kus hardwaru. 

Nebo si můžete zaplatit dodavatele, jako je Citrix nebo jiní, Cisco nebo jiní. Můžete platit za jejich vlastní hardware, což je hardwarové vyrovnávání zatížení. Ale to jen znamená, že předinstalovaná na vyrovnávání zatížení software na jejich hardwaru a prodal vám všem dohromady. Tak prostě budeme čerpat ji jako obdélník pro naše účely. 

Jak teď mohu implementovat vyrovnávání zatížení? Jinými slovy, když uživatel A chce na mých stránkách, jejich žádost jaksi nebo jiné, pravděpodobně prostřednictvím těch routery jsme hovořili o dříve, bude nakonec dosáhne toto vyrovnávání zatížení, který pak je třeba učinit rozhodnutí o směrování podobně. Ale je to směrování pro druh vyššího účelu se. Není to jen o získání z bodu A do bodu B. Je to o rozhodování o tom, které bod B je nejlepší mezi them-- 1, 2 nebo 3 v tomto případě. 

Tak jak se mám rozhodnout, zda jít na 1, 2, 3, aby? Co by to mohlo černá skříňka, tak mluvit, ať dělají na vnitřní straně? I to je dalším příkladem počítačová věda abstrakce. Jsem doslova nakreslil vyrovnávání zatížení jako černá skříňka černým inkoustem, uvnitř z nichž je několik zajímavých logika, nebo dokonce magie, z toho musí přijít decision-- 1, 2, nebo 3. A vstup je právě A. 

Diváků: [neslyšitelné] DAVID Malan: Je mi to líto? Diváků: [neslyšitelné] DAVID Malan: Dobře, jak můžeme kategorizovat typy transakcí zde? 

Diváků: Zobrazení webové stránky oproti dotazování databáze. DAVID Malan: OK, to je dobré. Takže možná to uživatel A Chce-li zobrazit webovou stránku. A možná je to i statický obsah, něco, co změní jen zřídka, pokud vůbec. A to se jeví jako docela jednoduchá obsluha. Takže možná jsme právě libovolně uvidíme, ale rozumně, řekněme, Server 1, jeho účel v životě jen servírovat statický obsah, Soubory, které jen zřídka, pokud vůbec, změna. Možná je to obrázků na stránce. Možná je to text na stránce, nebo Jiný takový druh nezajímavých věcí, Nic transakční, nic dynamický. 

Naproti tomu, pokud uživatel A kontroluje z jeho nebo její nákupní košík, který vyžaduje databázi, někde skladovat a pamatujte, že transakce, dobře Možná, že žádost by měl jít do serveru 2. Tak to je dobře. Takže můžeme nahrát na bázi zůstatek na typu žádostí. Jak jinak můžeme to udělat? Co jiného-- 

Diváků: na serveru Založený využití a kapacity. DAVID Malan: Dobře, OK. Takže jste se zmínil, že dříve, Kareem. Takže co když se nám poskytnout nějaké vstupy Na [neslyšitelný] mezi servery 1, 2, a 3 k tomuto vyrovnávání zatížení tak, že jsou to jen neustále informování vyrovnávání zatížení jaký je jejich stav? Stejně jako, hej, vyrovnávání zatížení, Jsem na využití 50%. Jinými slovy, mám poloviční počet uživatelů jak jsem si skutečně zvládnout právě teď. Hej, vyrovnávání zatížení, jsem při 100% využití. Hej, vyrovnávání zatížení, 0% využití. Vyrovnávání zatížení, pokud je to navržen takovým způsobem, že mohou mít v těchto připomínkách jako vstup, může poté rozhodnout, ooh, číslo dvě je na 100%. Nech mě posílat žádné další požadavky k němu jiné než uživatelé již připojen. Tenhle chlap je na 0%. Pojďme poslat velký provoz k němu. Ten chlap řekl, že je na úrovni 50%. Pojďme poslat nějaký provoz na něj. 

Tak, že by se složka, která mohli bychom vzít v úvahu zátěž. A to bude v průběhu času měnit. Takže rozhodnutí změní. Tak to je opravdu dobrá technika, ten, který je běžně používaný. Co jiného můžeme dělat? A pojďme vlastně jen shrnout zde. Takže rozhodnutí zde může být podle druhu dopravy, budu říkat. To může být na základě zatížení. Uvidíme, jestli nemůžeme přijít s několika dalšími. 

Diváků: [neslyšitelné] DAVID Malan: Location. Tak to je dobrý. Tak location-- jak můžete využívat tyto informace? 

Diváků: [neslyšitelné] 

DAVID Malan: Oh, to je dobré. A o tom, kolik milisekund by to snížit o základě toho, co jsme viděli tento ráno, byste řekl? 

Diváků: [neslyšitelné] 

DAVID Malan: No, založený na trase trasách jsme viděli dříve, což je jen hrubý měřítkem něčeho, alespoň jak dlouho to trvá aby byla data dostat z bodu A do bodu B cítí se jako něco lokální bylo, co, stejně jako 74 milisekund, plus minus? A pak něco 100 plus, 200 a byl pravděpodobně v zahraničí. A tak na základě toho sám, zdá se rozumné předpokládat, že pro uživatele v USA pro přístup k serveru evropské může trvat dvakrát nebo třikrát tak dlouho, a to i v milisekundách, než to může trvat v případě, že Server zde byly umístěny geograficky, nebo naopak. Takže když jsem navrhl dříve, že obzvláště Poté, co kříž, který 200 milisekund práh, plus minus, Lidé si začnete všímat. A traceroute je jen za předpokladu, syrový, nezajímavé data. Máte-li webové stránky, musíte dostat uživatel stahuje obrázky nebo videosekvence Soubory, spousta textu, následné požadavky. Viděli jsme, když jsme navštívili, co bylo to, Facebook nebo Amazon dříve, tu celá spousta věcí který je třeba stáhnout. Takže to bude sčítat. Takže multi-sekund mohlo nesmí být nepřiměřené. Tak dobrá, geografie je jedna složka. Takže ve skutečnosti společnostech jako Akamai, pokud jste o nich slyšel, nebo jiní již dlouho přijata geografie v úvahu. A ukázalo se, že podle povahy IP adresa, IP adresa mého laptopu, můžete odvodit, s určitou pravděpodobností, kde jste ve světě. A ve skutečnosti tam služby třetích stran, může zaplatit, kteří budou udržovat databáze IP adres a zeměpisných oblastech že s vysokou mírou jistoty bude pravda, když byl dotázán, kde na světě Je to IP adresa? 

A tak v tom, jaké Jiné společnosti používají to? Pokud máte Hulu nebo Netflix, pokud jste někdy byli na cestách do zahraničí, a pokusu sledovat něco na Hulu, a nejste ve Spojených státech, můžete vidět zprávu říkat, ne ve Spojených státech. Je nám líto, nelze zobrazit tento obsah. 

Diváků: [neslyšitelné] 

DAVID Malan: Oh, opravdu? Ale ano, tak ve skutečnosti to je perfektní aplikace něčeho velmi technický ke skutečnému problému. Pokud byste měli VPN ze Evropa nebo Asie, nebo kdekoliv ve světě k podnikové ústředí v New Yorku nebo tam, kde jste, že jste hodlá vytvořit vzhled na vnější webové stránky, které jste vlastně v New Yorku, i když jste fyzicky dost daleko. 

Nyní si uživatel se chystáte vím, že jsi zřejmě pryč. Ale vy jste také bude cítit, protože těchto dalších milisekund. Tato dodatečná vzdálenost a šifrování, které se děje ve VPN se chystá zpomalit. Takže to může nebo nemusí být skvělým zážitkem. Ale Hulu a Netflix uvidí vy jako sedět někde v New Yorku, jak jste jasně sbírala. Co perfektní řešení pro to. 

V pořádku, takže geografie je jedno rozhodnutí. Co jiného můžeme použít k rozhodnutí, jak dopravně cestu z bodu A, B a C 1, 2 a 3, opět, uvedení inženýrství klobouk na? To vše zní velmi komplikované. Uh, já ani nevím, kde začít realizovat ty. Dej mi něco, co je jednodušší. Co je to nejjednodušší způsob, aby toto rozhodnutí? 

Diváků: Je server k dispozici? 

DAVID Malan: Je server k dispozici? Takže není špatné. To je dobré. To je něco jako nuancing zatížení. Takže pojďme si to v kategorii zatížení. Pokud máte k dispozici, jsem jen pošle data tam. Ale to by mohlo rychle vymstít. Protože pokud mohu použít tuto logiku, a kdybych Vždy se zeptat 1, jste na, jste na, jste na, v případě, že odpověď je vždy ano, Jdu poslat 100% z dopravy k němu, 0% pro všechny ostatní. A na nějakém místě, budeme zasáhnout že zpomalení nebo místně nedostupné. Takže to, co je o něco lepší než že ale stále docela jednoduché a není zdaleka tak chytrý, jak s ohledem na všechny Tyto dodatečné údaje v úvahu? 

Diváků: Náklady na serveru. DAVID Malan: Náklady na serveru. OK, tak ať mi hodit, že v kategorii zatížení také. Protože to, co najdete v společnost, too--, že pokud inovaci serverů v průběhu času nebo koupit více, nemusí být schopni se dostat přesně to, stejné verze hardwaru. Vzhledem k tomu, že vypadne z aktuální. Nemůžete ho koupit už ne. Ceny se mění. 

Takže můžete mít různorodé servery V clusteru, tak říkajíc. To je naprosto v pořádku. Ale příští rok hardware může být dvakrát tak rychle, dvakrát tak schopní jako letošní. Takže můžeme vyhodit, že do kategorie zatížení. Tato zpětná vazba mezi 1, 2 a 3 ve vyrovnávání zatížení by jistě říci to, hej, jsem na 50% kapacity. Ale mimochodem, já taky má dvakrát tolik jader. Tyto informace použít. Dokonce simpler-- a to se děje být tématem v oblasti počítačové vědy. Pokud máte pochybnosti, nebo když chcete jednoduchý řešení, které obecně funguje dobře v průběhu času, nevybírejte stejnou Server po celou dobu, ale vyberte-- 

Diváků: náhodný jedno? DAVID Malan: -A náhodného serveru. Jo, vybrat jedno nebo druhé. Takže náhodnost je vlastně Tento velmi silný složkou v informatice, a ve strojírenství více obecně, zvláště když chcete udělat jednoduchou rozhodnout rychle aniž by komplikovat to se všemi ze tyto velmi chytrý, ale také velmi chytrý, řešení, která vyžadují a to tím spíše inženýrství, vše Čím víc, když Opravdu, proč ne já jen tak hodit mincí, nebo tři sousedil mince v tomto případě, a rozhodnout, zda jít 1, 2, 3? 

To by mohlo vymstít pravděpodobnostně, ale stejně jako kurzy of znovu obracející hlavy a Znovu a znovu a znovu a znovu a znovu je možné v reality-- super, super nepravděpodobné. Takže v průběhu doby, kurzy jsou posílání uživatelům náhodně 1, 2 a 3 se chystá vypracovat naprosto v pořádku. A to je technika obecně známý jako round robin. 

Nebo vlastně, to není každý s každým. To by byl náhodný přístup. A pokud chcete být ještě poněkud jednodušší, než to, Round Robin by bylo, první člověk jede 1, druhá osoba 2, třetí osoba až 3, čtvrtý až 1. A v tom spočívá Round Robin. Můžete tak nějak obejít v cyklu. 

Nyní byste měli být chytrý o tom. Byste neměli slepě zaslat uživateli Server číslo jedna, pokud to, co je případ? Pokud je to na plný výkon max, nebo je to prostě není citlivý. Takže v ideálním případě budete chtít některé druh zpětné vazby. V opačném případě stačí poslat všichni z vašich uživatelů do slepé uličky. Ale které mohou být vzaty v úvahu také. 

Takže se nemusíte za ocenit hodnotu jen nahodilosti, což je docela často řešení na tyto druhy problémů. A budeme zapisovat Round Robin. Tak jak se některé společnosti realizovat Round Robin nebo náhodnost nebo některý z těchto rozhodnutí? No bohužel, oni dělat věci, jako je tento. Nech mě vytáhnout další rychlý snímek obrazovky. 

Ve skutečnosti, pojďme udělat dva. Nevím, proč jsme získání všech těchto pokrmů. To je velmi podivné. Dobře, co opravdu chci, je screenshot. To je divné. V pořádku, takže můžu zfalšovat to. Nevím, jak moc dál Chci, aby posouvání. 

Takže velmi často, zjistíte sami na adrese jako www.2.acme.com, Možná www.3 nebo 4 nebo 5. A dávat pozor na to. Ty to nevidí tak často. Ale když to uděláte, to jaksi inklinuje být větší, starší, stodgier společnosti že technologicky opravdu nemám Zdá se, že vědí, co dělají. A vidíte to na tech firem Někdy, ti starší. 

Takže to, co dělají? Jak jsou prováděcí vyvažování zátěže, by se mohlo zdát? Ocitnete-li se jako Uživatel psaní www.something.com, a najednou jste na www.2.something.com, co má svůj náklad vyvažovací asi udělal? Diváků: [neslyšitelné] 

DAVID Malan: Jo, takže Vyrovnávání zatížení je podle všeho rozhodování založené na jedné ze Tyto rozhodování processes-- nezáleží který. Ale stejně jako jsem vybral Čísla na desce zde servery nejsou jen volal 1, 2 a 3. Nejspíš volal www1, www2, www3. A ukázalo se, že vnitřek požadavek HTTP je tato funkce. A jdu simulovat následujícím způsobem. 

Jdu otevřít ten stejný Karta Developer Network jako dříve jen takže můžeme vidět, co se děje Na pod kapotou. Chystám se vyčistit obrazovku. A já jdu do, pojďme říkají, http://harvard.edu. Nyní pro cokoliv obchodních důvodů, Harvard se rozhodl, stejně jako mnozí, mnoho jiných webových stránek, standardizovat své Webové stránky na www.harvard.edu pro oba technický a marketingových důvodů. Je to jen druh v móda mít www. 

Takže server na Harvardu má nějak přesměrovat uživatele, jak jsem pořád říkáš, od jedno URL na druhou. Jak to funguje? No, nech mě jít napřed a stiskněte klávesu Enter. A všimněte si URL opravdu rychle změněno na www.harvard.edu. Nech mě listovat v tomto Historie a klikněte na toto ladění diagnostické informace, chcete-li. Podívejme se na mou žádost. 

Takže tady je žádost jsem udělal. A všimněte si, že je to v souladu s druhem žádosti I z Facebooku předtím. Ale všimněte si odpověď. Čím se liší odezva tentokrát? 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, tak to není 200 OK. Není to 404 Not Found. Je to 301 Trvale přesunuto, který je druh zábavný způsob, jak říkat, Harvard se zvýšil a pohyboval jinde www.harvard.edu. 301 znamená, že jedná se o přesměrování. A kde má uživatel zřejmě bude přesměrován? Je tu další sousto Informace v té obálce. A každý z těchto řádků bude nyní začít volat HTTP hlavičky. Hlavička je jen klíčovou hodnotou pair-- něco něco tlustého střeva. Je to kus informací. , Kde má nová Poloha zřejmě bude? Všimněte si, že poslední řádek Mezi všemi těmi záhlaví. 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, takže je tu dodatečné informace. První řádek, které jsem zdůraznila říká 301 Trvale přesunuto. No, kde se pohyboval? Poslední line-- a oni ne musí být v tomto pořadí. To může být libovolné. Místo tlustého střeva znamená, hej prohlížeč, jděte na tuto adresu URL místo. 

Takže prohlížeče porozumět HTTP přesměrování. A to je velmi, velmi obyčejný způsob, jak odrážení Uživatel z jednoho místa na druhé. Například, pokud jste někdy zkoušeli navštívit webové stránky, které si nejste přihlášeni, můžete náhle sami na novou adresu URL úplně bytí vyzváni k přihlášení. 

Jak to funguje? Server je pravděpodobně posílá 301. K dispozici je také jiná čísla, jako je 302, ve smyslu poněkud odlišný, kteří vás posílají na jinou adresu URL. A pak server, jakmile jste přihlášeni, budete posílat zpět na místo, kde jste vlastně určen. 

Tak co tedy jsou špatně upravené webové stránky dělá? Při návštěvě www.acme.com, a oni jen náhodou jmenovali své servery www1, www2, www3, a tak dále, jsou velmi simply-- který je spravedlivý, ale velmi druh foolishly-- přesměrování vás aktuálně různá jména serveru. A funguje to naprosto v pořádku. Je to příjemné a snadné. 

Viděli jsme, jak to bude provedeno pod kapotou ve virtuálním obálky. Ale proč je to pravděpodobně špatný technika rozhodnutí? A proč jsem tak nějak blahosklonně k této konkrétní techniky přístup? Argumentovat, proč je to špatné. Ben? Diváků: [neslyšitelné] DAVID Malan: Každý server by musely mají duplicitní kopie webové stránky. Jsem s tím OK. A ve skutečnosti, že to, co jsem si za předpokladu, za celý tento příběh, protože pokud bychom wanted-- dobře ve skutečnosti, s výjimkou Dan je dříve náznak, kde máte-li odlišná Servery dělat různé věci, pak Možná by mohly být ve skutečnosti funkčně dělat různé věci. 

Ale i pak, na nějakém místě, váš Databáze bude přetížen. Váš statický majetek serveru bude přetížen. Takže na nějakém místě, my jsme zpět v tomto příběhu, kde jsme potřebují více kopií stejné věci. Takže jsem s tím OK. Diváků: [neslyšitelné] 

DAVID Malan: OK, tak některé stránky by mohla být neúměrně populární. A tak fixaci na jedné adrese není nutně ta nejlepší věc. [NESLYŠITELNÝ]? 

Diváků: [neslyšitelné] 

DAVID Malan: Co tím myslíš, že? Diváků: [neslyšitelné] 

DAVID Malan: Jo, přesně tak. Takže nechcete, aby nutně vás jistě have-- nechtějí mít své uživatele ručním zadáním www1 nebo www2. Z hlediska brandingu ji jen vypadá trochu směšné. Pokud chcete jen jakýsi čisté, elegantní zkušenosti, Po těchto druh náhodně číslované URL opravdu není dobré. Protože pak uživatelé jistě bude kopírovat a vložit do e-mailů nebo rychlých zpráv. 

Teď se množit. Teď nějak matoucí vašich menší technické publikum, kdo si myslí, vaše webová adresa je www2.something.com. Neexistuje žádné přesvědčivé sémantiky k tomu. Prostě se to stane, že je podkladové technické detaily, které jste číslované své servery tímto způsobem. 

A ještě hůře, co když, například, Možná kolem vánočního času, kdy podnikání je opravdu na vzestupu, máte www1 přes www99, ale v lednu a únoru a kupředu, vypnout polovinu těch, takže máte pouze www1 přes www50? Jaký je důsledek teď za to velmi rozumné obchodní rozhodnutí? Diváků: [neslyšitelné] DAVID Malan: Musíte spravovat všechny ty dosud. Diváků: [neslyšitelné] DAVID Malan: Přesně tak. To je druh tam úlovku. Pokud jsou vaši zákazníci ve zvyku bookmarking věci, je posílání e-mailů, jen uložení URL někam, nebo když je to jen na jejich auto dokončit do svého prohlížeče tož ve skutečnosti záměrně psát to, je to jen děje, mohli by, po dobu 11 měsíců ven z roku účinně dosáhnout do slepé uličky. A jen ty vychytralý z Uživatelé se chystá realizovat, Možná bych měl manuálně odebrat toto číslo. Myslím, že to prostě nestane s mnoha uživateli, tak špatné pro podnikání, špatná implementace inženýrství moudré. 

Takže naštěstí to není ani nutné. Ukazuje se, že to, co load balancery může dělat Místo toho je říkat, když A dělá request-- hej A, jet do 1. Jinými slovy, místo toho zasílání které přesměrovávají tak, že první krok v tomto Proces je jít sem, On je pak řekl, aby šla jinam. A tak krok tři je, půjde jinam. 

Místo toho můžete pokračovat v cestě, aby nadále používat tento termín, všechna data A je přes vyrovnávání zatížení tak, že mu nikdy kontakty 1, 2, 3 nebo přímo. Veškerý provoz se dostat "směrována" o vyrovnávání zatížení sama. A tak teď jsme tak nějak záměrně rozmazaný linky Mezi těmito různými zařízeními. Vyrovnávání zatížení může dat trasy. Je to jen funkce, která to má. 

Takže pro vyrovnávání zatížení, taky, je to kus software, opravdu. A router je kus softwaru. A můžete mít absolutně dva kusy softwaru uvnitř na jednom fyzickém počítači, takže zatížení vyvažovací může dělat tyto věci více. 

Takže je tu ještě jedna další cesta jak to udělat, který vlastně sahá až do jakési prvních principů DNS, které jsme mluvili Před přestávkou. DNS Domain Name System. Nezapomeňte, že můžete zeptejte DNS server, co je IP adresa google.com, facebook.com? 

A můžeme skutečně udělat. Nástroj jsme nevyužili dříve je ten, který je stejně přístupné, volal nslookup, pro vyhledání název serveru. A já jsem prostě jít psát facebook.com. A vidím, že Facebook je IP Adresa je zřejmě to. Nech mě jít dopředu a kopírování že jdou do prohlížeče, a přejděte na stránku http: // a že IP adresu a stiskněte klávesu Enter. A opravdu, zdá se do práce. 

Nyní pracuje zpět, co bylo uvnitř virtuálního obálky že Facebook reagovali, když Navštívila jsem, že IP adresa přímo? Vzhledem k tomu, vývěsní, kde jsem teď? Tam, kde jsem teď, adresa? 

Diváků: [neslyšitelné] 

DAVID Malan: Na zabezpečenou verzi, a na www.facebook.com. Takže to není dokonce jen zabezpečený IP adresa. Facebook vzala ji na sebe říkat, to je směšné. Nejdeme, aby vás na to ošklivé vypadající URL, které je číselný. Budeme posílat HTTP přesměrovat prostřednictvím téhož záhlaví že jsme viděli before-- Poloha tlustého střeva něco. 

A tak to jednoduše znamená, že pod ním kapota je stále tato IP adresa. Každý počítač na internetu má IP adresu, by se mohlo zdát. Ale nemusíte mít nutně vystavit, že pro uživatele. A podobně jako zpět v den, existuje Byl 1-800-Collect, 1-800-C-O-L-L-E-C-T, ve Spojených státech, byl způsob, jak dělat collect hovory přes velmi snadno památný telefonu číslo nebo číslo 1-800-MATRACE koupit postel, a podobné mnemotechnické pomůcky, které jste dokonce vidět Na telefonu druh druh přesto, že mapa dopisy na čísla. 

A teď, proč tomu tak je? No, je to mnohem snazší si zapamatovat 1-800-MATRACE nebo 1-800-Collect namísto z 1-800 něco něco něco něco něco něco něco, kde každý z nich je číslice. Stejně tak se svět dozvěděl rychle, že bychom neměli mají lidé pamatovat IP adresy. To by bylo hloupé. Budeme se místo toho používat názvy. A to je důvod, proč se narodil DNS. 

V pořádku, takže s tím, že z hlediska vyvažování zátěže, zkusme yahoo.com. No, to je zajímavé. Yahoo se zdá být návratem tři IP adresy. Takže vyvozovat z toho, kdybyste mohli, co je Dalším způsobem, že bychom mohli realizovat toto ponětí o vyrovnávání zátěže možná i bez použití fyzické zařízení, tento nový fyzické zařízení? 

Jinými slovy, mohu vzít pryč financování máte k vyrovnávání zatížení a řeknu vám použít některé existující kus hardwaru realizovat toto ponětí o vyrovnávání zátěže? A spoiler je, ano, ale co, nebo jak? Co je Yahoo snad tady dělá? Kareem? OK, Chris? Diváků: [neslyšitelné] DAVID Malan: Jo, Tři z těchto prací. Takže nahodilosti, každý s každým, location-- můžete jen využít existující kousek skládačky že jsme mluvili o dřívější z DNS Systém a jednoduše říci, když první Uživatel dne požádá yahoo.com, dát jim první adresu IP, jako ten končí v 45 tam nahoře. A příště uživatel požádá IP adresa yahoo.com z někde ve světě, dát jim druhou IP, pak třetí IP, pak se První IP, pak druhý. Nebo být chytrý o tom a to graficky. Nebo se to náhodně a ne jen dělat je každý s každým v této módě. 

A v tomto případě, poté nemáme ani potřebovat zavést tato černá box do našeho obrazu. Nepotřebujeme nové zařízení. Jsme prostě říkají počítačů jít k serverům přímo, účinně, ale ne prostřednictvím jejich jména. Nikdy potřebují znát název. Jsou to právě řekl, že yahoo.com mapy některého z těchto IP adres. 

Tak to pošle přesně stejný požadavek. Ale na vnější straně obálka, to prostě klade IP že byla informována. A tímto způsobem také mohl načteme vyvážit požadavky pouhým zasláním obálku do A odlišné jeden z vlastních serverech Yahoo? 

A pokud se budeme držet kopání, uvidíme pravděpodobně ostatní společnosti s více. CNN má dvě veřejně vystaveny. I když ve skutečnosti, jestli to uděláme znovu a again-- cnn.com-- vidíte oni mění pořadí, ve skutečnosti. Takže to, co je mechanismus CNN s použitím očividně? 

Diváků: Random. DAVID Malan: No, by mohly být náhodný, i když Zdá se, že jízda na kole tam a zpět. Takže je to asi každý s každým, kde jsou to jen přepínání pořadí tak, že budu pravděpodobně trvat první. Můj počítač bude trvat První pokaždé. Tak to je vyvažování zátěže. A že nám umožňuje v konečném důsledku mapování dat nebo žádosti o mapové, mezi více serverů. Takže, jaké druhy Problémy teď ještě existují? Vypadá to, že jsme prostě opravdu vyřešil dobrou problém. Máme uživatele na různých serverech. Ale-- oh, a Chris, dělal máte nějakou otázku dřív? 

Diváků: [neslyšitelné] 

DAVID Malan: Zcela záleží. Takže to, co se tu děje? A můžeme skutečně vidět. Takže pojďme zkusit Yahoo. Ve skutečnosti, pojďme na Facebooku. Protože víme, že jeden pracuje. Takže jdu ke kopírování Znovu že IP adresa. Chystám se zavřít všechny tyto karty. Chystám se jít open že Zvláštní síť karta tady dole. A já jdu navštívit pouze http: //. A teď budu stiskněte klávesu Enter. A podívejme se, co se stalo. 

Když se podívám na tuto žádost, oznámení že my-- Facebook je špatný příklad. Vzhledem k tomu, že mají Super efektní technika který skrývá tento detail od nás. Dovolte mi použít Yahoo instead-- http: // tohoto šetření. Pojďme otevřít naši síť Karta, zachovat log. A je to tady, Enter. To je legrační. OK, takže tady je známý 404 hlášení. Co je legrační je, že oni Pravděpodobně nikdy nebude zpět. Protože je to asi Není něco v pořádku samo o sobě. Mají jen úmyslně rozhodl nepodpořit číselnou formu jejich adresu. 

Takže to, co jsme vlastně viděli v Záložka Network, když jsem vytáhnout to tady, je, jak říkám, známý 404, kde Podívám-li se na hlaviček odpovědí, To je to, co jsem dostal here-- 404 Not Found. Takže pojďme vyzkoušet některý jiný. Uvidíme, jestli CNN spolupracuje s námi. Vezmu jeden z IP adres CNN, vymazat toto, HTTP, Dah, Dah, Dah, DAH. Takže v odpovědi na Chrise Otázkou, že jeden pracuje. 

A pojďme do hlaviček odpovědí. Vlastně ne, v pořádku, jsem snaží se najít pracovní příklad. Takže CNN se rozhodl, budeme prostě nechat na libovolnou adresu jste vlastně návštěvě, označovat problémy stranou. Ale to, co by se stalo, pokud jsme ho mohli vidět v případě Facebooku, Je bychom se dostali 301 Moved Trvale, s největší pravděpodobností, uvnitř kterého je Poloha: https: //www.facebook.com. A šance jsou www.facebook.com je alias přesně stejný server Prostě jsme šel do. 

Takže je to trochu kontraproduktivní. Jsme doslova návštěvě serveru. Server je pak nám říká, jdi pryč. Jděte na tuto jinou adresu. Ale my jsme jen tak náhodou se vrací do stejného serveru. Ale podle všeho nyní zůstali na tom Server aniž by to tam a zpět. Vzhledem k tomu, teď jsme pomocí pojmenované verze stránek, ne numerické. Dobrá otázka. 

OK, takže když jsme teď my assume-- vyřešili vyrovnávání zatížení. Nyní máme mechanismus, ať už je to přes DNS, ať už je to přes tuto černou skříňku, zda to je s použitím některé z těchto technik. Můžeme si vzít žádost uživatele va přijít na který server, 1, 2 nebo 3, aby ho nebo ji odeslat. 

To, co začíná rozbít o našich stránkách? Jinými slovy, máme vybudoval firmu, která byl předtím na jednom serveru. Nyní, že obchodní běží mezi více serverů. Jaké druhy předpokladů, jaké druhy rozhodnutí o návrhu, Nyní by mohlo být porušení? 

To je méně zřejmé. Ale uvidíme, jestli nemůžeme dát náš prst na některé z problému jsme vytvořený pro sebe. Opět je to něco jako držení po úniku v hadici. A teď nějaký nový problém se objevilo tady. 

Diváků: [neslyšitelné] DAVID Malan: OK, takže musíme neustále rostou naše místo na pevném disku. Jsem v pořádku s tím právě teď. Vzhledem k tomu, myslím, že mohu horizontálně stupnice. Stejně jako v případě Běžím nízká, budu jen dostat čtvrtina serveru, možná pětina server a pak zvýšit naši kapacitu o dalších 30%, nebo 50%, nebo čímkoliv jiném. Takže jsem s tím OK, alespoň pro tuto chvíli. Diváků: [neslyšitelné] DAVID Malan: OK, tak to je dobrý postřeh. Takže předpokládám, že servery nejsou totožné. A zákaznický servis nebo e-mail ekvivalent je získat nějaké zprávy od uživatele říkat, to nefunguje správně. Je velmi pravděpodobné, někdy, že možná jeden nebo více serverů se chová trochu nakřivo, ale ne ostatní, což může jistě ztěžují honit problém. Možná budete muset hledat více míst. 

To je projevem na jiný druh chyby, což je to, že možná budete mít Navrhli svou infrastrukturu tak, že všechno, co je skutečně identické. Ale to odhalí nový problém že jsme neměli předtím. Co dalšího? Diváků: [neslyšitelné] 

DAVID Malan: Jo, tam je víc komplexnosti. K dispozici je fyzicky dráty. Je tu další zařízení. Ve skutečnosti jsem představil zásadní Koncepce a zásadní problém zde známý jako jediný bod selhání, které, i když jste nikdy neslyšeli fráze, můžete pravděpodobně nyní pracovat dozadu a na to přijít. Co to znamená, že mám jediný bod selhání ve své architektuře? A architekturou, jen jsem znamenat topologii něj. 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, co když vyrovnávání zatížení klesá? Já jsem doplnila toto prostřední muže, jehož Smyslem života je vyřešit problém. Ale já jsem zavedl nový problém. Nový únik se objevily v hadici. Protože teď v případě, že vyrovnávání zatížení zemře nebo přerušení či misfunctions, teď se ztratí přístup k Všechny tři z mých serverů. A předtím, já ne mají tuto prostředníka. A tak se jedná o nový problém, pravděpodobně. Vrátíme se k jak bychom mohli napravit. 

Diváků: [neslyšitelné] DAVID Malan: To by byl jeden přístup. Jo, a tak to bude dost díra krysy začneme jít dolů. Ale pojďme se vrátit do že za chvíli. Jaké další problémy jsme vytvořili? 

Takže Dan předtím zmínil databáze. A i když nejste moc dobře technicky, databáze je jen server, změně údajů jsou obvykle uloženy, Možná, že objednávka někdo umístil, váš uživatelský profil, vaše jméno, e-mailovou adresu, věci, které by mohly zbývá nebo měnily v průběhu času. 

Dříve můj databáze byla na stejný server jako můj webový server. Protože Jen jsem měl jeden web hosting účtu. Všechno bylo vše na jednom místě. Kam mám dát své databázi Nyní, na serveru 1, 2, nebo 3? 

Diváků: 4. 

DAVID Malan: 4, OK, všichni Dobře, tak se pojďme tam. Takže jdu dát své database-- a pojďme zahájit označování těchto www, www, www. A budu říkat, To je číslo čtyři. A já budu říkat DB pro databázi. OK, já to líbí. Co bych měl linka pravděpodobně bude kresba tady? 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, takže kód, jak budeme diskutovat zítra, pravděpodobně je stejný na všech třech serverech. Ale nyní potřebuje připojit nikoliv na Databáze běží lokálně, ale i jinde. A to je v pořádku. Můžeme jen dát do databáze pojmenovat, jako my, nebo číslo. A to všechno funguje. Ale co jsme udělali? Máme horizontálně zmenšen tím, že tři servery namísto jednoho, který je dobrý. Vzhledem k tomu, nyní můžeme zvládnout třikrát tolik zatížení. 

A ještě lépe, pokud je jeden nebo dva z těchto serverů jde dolů, moje firma může pokračovat v činnosti. Protože mám ještě jeden, i když jsem druh pokulhává výkon-moudrý. Ale to, co nový problém jsem zaveden přesunutí databáze na tento samostatný server namísto na 1, 2 a 3? 

Diváků: [neslyšitelné] DAVID Malan: Jo, takže teď mám Dalším jediný bod selhání. Kdyby moje databáze zemře, nebo potřebuje být upgradován, nebo cokoliv jiného, ​​teď jistý, moje webové stránky on-line. A mohu sloužit statická, neměnný obsah. Ale nemohu umožnit uživatelům přihlásit nebo změna něco nebo objednat cokoliv, ještě hůř. Protože jestli 4 je v režimu offline, potom 1, 2, a 3 opravdu není možné s ním mluvit ze své podstaty. 

OK, takže jo, a tak to je důvod, proč Jsem váhá k tomu to. Takže pojďme se vrátit k tomu. Nechci, aby vás tlačí pryč. Ale obraz je velmi Rychle dostane stresující. Vzhledem k tomu, budete muset začít mající dvě všeho. Ve skutečnosti, pokud jste někdy viděli Film Kontaktní před několika lety s Jodie Foster-- ne? 

OK, takže pro dva my, kdo viděli kontakt, je tam, kde vztah oni v podstatě koupil dvě z něčeho spíše než jeden, i když dvojnásobnou cenu. Takže to bylo něco jako hravý komentář ve filmu. Je to trochu tím souvisí. Mohli bychom absolutně udělat. A právě jste náklady us dvakrát tolik peněz. Ale my se vrátíme k tomu. 

Tak jsme vyřešili tohle. Tak víte co? Je to jako kluzkém svahu. Nechci se zabývat s tím mít duplicitní databáze. Je to příliš mnoho peněz. Víš co? Chci mít svou databázi stejně jako ve verzi jedna kde každý server má vlastní lokální databáze. Takže jsem prostě jít čerpat db na každou z nich. 

Takže teď každý web server je identická v němž protože má stejný kód, stejný statické aktiva, stejné obrázky a text a tak dále. A každý má svou vlastní databázi. Opravil jsem na jediný bod problému selhání. Teď mám databázi. Bez ohledu na to, kdy jsou dvě nebo jeden z nich věci zemřít, je tu vždy jedna vlevo. Ale to, co nový problém mít jsem vytvořil že Danův řešení vyhnout? 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, já muset synchronizovat, že jo? Protože buď musím synchronizovat kdo bude where-- jinými slovy, pokud Alice navštěvuje můj site, a ona se stalo aby se náhodně nebo kulatý robined nebo cokoliv, na server číslo jedna, potom musím vždycky poslat ji do serveru 1. Proč? Protože když jsem ji poslat na server 2, bude to vypadat jako ona nemá existují. 

Nebudu mít její historii objednávek. Nebudu mít její profil tam. A to prostě připadá jako to zve problémy. A když Bob navštíví, I muset poslat ho vždy ke stejnému serveru, 2, nebo podle toho, jeden, a Charlie do třetí, a důsledně. To není nerozumné, ačkoli. To se nazývá rozdělování databáze. A ve skutečnosti to bylo to, co Facebook udělal brzy. 

Pokud jste postupovali historii Facebook, tady to začalo v areálu jako www.thefacebook.com. Pak to se vyvinulo jednou Mark začal šíří do dalších areálech být harvard.thefacebook.com a mit.thefacebook.com, a pravděpodobně bu.thefacebook.com, a podobně. A to jen proto, brzy, nemyslím si, byste mohli mít kamarády přes areálech. Ale to je v pořádku. Vzhledem k tomu, nikoho z Harvardu poslali k tomuto serveru. Kdokoli z BU poslali na tento server. Kdokoli z MIT poslali k tomuto server-- v teorii. Nemám dost vědět všechno podkladové implementační detaily. Ale pravděpodobně rozdělí lidi podle Jejich kampus, kde byla jejich síť. 

Tak to je dobře až do okamžiku kde budete potřebovat dva servery na Harvardu, nebo tři servery pro Harvardu. A pak, že jednoduchost druh porouchá. Ale to je rozumný přístup. Pojďme vždy poslat Alici na stejné místo, Vždy poslat Bobovi na stejné místo. Ale co se stane, když Alice Server přejde do režimu offline? Bob a Charlie si ještě koupit věci a přihlásit se do místa. Ale Alice nemůže. Takže jste ztratili třetiny vaší uživatelské základny. Možná je to lepší než 100%? Ale možná, že by bylo hezké, kdybychom mohli stále podporují 100% našich uživatelů i když třetina našeho servery přejde do režimu offline. 

Takže bychom mohli synchronizovat, co? Ne uživatele, samy o sobě, ale databázi všech těchto serverů. Takže teď jsme trochu need some druh propojení zde tak, že sami servery může sync-- nerozumné. A ve skutečnosti, tato technologie existuje. Ve světě databází, je tu Pojem databází master-slave, nebo primární sekundární, kde některé z funkcí není jen pro ukládání dat a reagovat s daty, ale také jen neustále synchronizovat mezi sebou navzájem. Takže kdykoli budete zapisovat nebo uložit něco, co do této databáze, okamžitě dostane "replikována" do jiných databází, jakož. 

A kdykoliv budete číst z něj, nezáleží na tom, kde jste. Protože jestli v teorii Ti všichni synchronizují, že jste dostane stejný pohled na data. Takže to zní perfektní. Musí tu být nějaký háček. Co by mohlo být háček? 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, třikrát jak mnoho věcí se může pokazit. To je realita. To všechno by mohlo být stejné v duchu. Ale někdo potřebuje nakonfigurovat tyto. Tam je vyšší pravděpodobnost, že něco děje pokazit. Jen combinatorially máte více věcí náchylný k chybám. Co jiného je špatné potenciálně? Diváků: [neslyšitelné] 

DAVID Malan: Jo, Synchronizace může být špatné. I když možná víte ze záloh a takové, pokud jste právě se slepě dělat zálohování, co když se něco dělá pokazí na jedné databáze? Smažete něco, co by neměli. Vy jste okamžitě replikovány že problém všude jinde. Takže Victoria byla talking-- zálohy by byla dobrá věc tady. A tak dostaneme zpět na to. A aby bylo jasné, mluvíme Nejde o zálohách tady sama o sobě. Mluvíme o skutečném replikaci nebo synchronizaci mezi servery. Jsou to všechno živé. Oni nejsou určeny k použít pro zálohování. 

Diváků: [neslyšitelné] DAVID Malan: Co je to? Diváků: Higher-- DAVID Malan: Vyšší náklady. Máme ztrojnásobil náklady na Samozřejmě, i když přinejmenším pokud jde hardwaru. Vzhledem k tomu, je databáze jen kus softwaru. A webový server je kus softwaru. Je to asi zdarma, pokud používáme libovolný počet open source věcí. Ale pokud jsme pomocí něco jako Oracle, budeme platit více peněz za Oracle licencí nebo Microsoft pro přístup. Musí tu být nějaký jiný úlovek zde. Nemůže to být tak jednoduché. 

Takže ke svému bodu, myslím, že to bylo Kareem pro geografii earlier-- nebo ne, Roman, to bylo pro geography-- předpokládám že jsme chytrý o tom, a my jsme dávat jeden z našich serverů, a podle pořadí našich databází, ve Spojených státech, a další v Evropě, další v Jižní Amerika, další v Africe, další v Asii, kam budeme může být vhodné po celém světě. Již známe z naší stopy trasy, že bod A a bod B, v případě, že jsou dál od sebe, budou vyžadovat více času. 

A pokud někteří z vás používá nástroje, jako jsou Facebook nebo Twitter nebo jakékoliv z těchto lokalit v těchto dnech, že se neustále mění, protože uživatele vytvořených dat, někdy jestli vás hit Načíst znovu nebo otevřít stejnou stránku v jiném prohlížeči, vidíte různé verze, skoro. Můžete vidět něčí stav aktualizovat zde ale ne tady, a pak znovu a znovu ji Zobrazí se, a znovu načíst, a zmizí. Jinými slovy, aktualizuje pozor na to, přinejmenším Pokud používáte sociální vytváření sítí zejména. 

Opět platí, že jen proto, že Údaje se mění tak rychle, Někdy servery dostat ven synchronizace. A možná je to super malé okno. Ale 200 milisekund, možná dokonce více než to-- to bude trvat nějakou nenulovou hodnotu času na tyto databáze pro synchronizaci. A nejsme jen mluví o jedné žádosti. Pokud má společnost tisíce Uživatelé jej používat současně, oni by mohli vyrovnávací paměti. Jinými slovy, může dojít být fronty nebo čekací čáru přede všemi z těchto databází Dotazy mohou se synchronizují. Takže možná je to vlastně jen pár vteřin. 

A skutečně je to pravda, že i I až do dnešního dne s Facebook, přičemž když synchronizaci z Východní pobřeží na západním pobřeží, má netriviální propagace zpoždění, tak říkajíc, že jste tak nějak tolerovat. A tak to není tak moc chyba, protože to je realita že uživatelé nemusí vidět správná data pro alespoň několik sekund. 

Vidím to na Twitteru hodně ve skutečnosti, kde někdy budu pípání v jednom okně, otevírat další, aby pak ji vidět potvrdit, že to opravdu vzrostly, a to není ještě nedosáhla. A musím trochu načíst, reload, reload-- ach, tady to je. A to ne proto, že nebyl uložen. To prostě není šířeny na jiné servery. 

Takže tento kompromis, too-- Opravdu chtějí vystavovat se riziku že v případě, že uživatel přejde na jejich pořadí historie, není to ve skutečnosti tam ještě? Vidím to na některých bank. Vždy mě štve, když dobře, pro jednoho, můžete jít jen tak šest měsíců zpět ve svých bankovních výpisů v některých bankách, i když teoreticky by měly moci mít všechno online. Oni jen se občas stažení offline. Někdy too-- jaké webové stránky, je to? Je tu one-- ach, to je GoDaddy, myslím. GoDaddy, když check out nákup doménové jméno, nebo tak něco, budou často vám odkaz na stvrzence. A pokud kliknete na tento odkaz právo pryč, to často nefunguje. Je to jen říká, slepá ulička, nic zde. 

A to je taky kvůli Tyto propagační zpoždění. Vzhledem k tomu, z jakéhokoli důvodu, že užíváte trochu času skutečně generovat to. Takže tohle je něco jako chcete vytáhnout si vlasy v určitém okamžiku. Protože vše, co se snažíte udělat, je vyřešit jednoduchý problém. A držíme vytváření nových problémy pro sebe. Tak uvidíme, jestli budeme může trochu vrátit zpět. 

Ukazuje se, že kombinování databází na všech svých webových serverů není zrovna nejlepší praxe. Obecně platí, že to, co inženýr udělá, nebo systémy architekt, by bylo mít odlišné úrovněmi serverů. A právě kvůli prostoru je, budu čerpají databáze sem. 

Mohli bychom mít databázi a Číslo serveru čtyři zde že má mít připojení k každý z těchto serverů zde. Takže by to mohlo být naše přední skončit vrstvu, protože lidé by se říct. A to by byl náš zadní konec tier. A to právě znamená, že Tyto tváří uživatele. A databází nečelí uživatele. Žádný uživatel může přímo přístup k databázi. 

Takže pojďme teď možná jít dolů trasa Victoria navrhoval. Jedná se o jediný bod selhání. To mě nepříjemné. Takže to, co je možná Nejviditelnější řešení? Diváků: [neslyšitelné] DAVID Malan: Je nám líto, že znovu. Diváků: [neslyšitelné] DAVID Malan: Non-produkční server. Co tím myslíš? 

Diváků: [neslyšitelné] 

DAVID Malan: Oh, OK, takže zálohování. OK, takže jsme mohli udělat, určitě. A ve skutečnosti to je velmi často provádí. To může být databáze číslo pět. Ale to je jen připojen k číslo čtyři. A vy jste to mohli nazvat hot spare. Tyto dvě databáze by mohly být konfigurovány jen neustále synchronizovat navzájem. A tak jestli tento stroj zemře, pro cokoliv hloupý reason-- pevného disku zemře, někdo výlety přes šňůra, některé software je vadný a zablokuje stroj nebo crashes-- byste mohli mít člověka doslova odpojte jeden ze zdi a namísto toho zapojit tento jeden v. A poté do, řekněme, je pár minut, možná půl hodiny, budete znovu online. 

Není to skvělé, ale Je to také není hrozné. A nemusíte mít strach o případné problémy synchronizace. Protože všechno je už tam. Vzhledem k tomu, že jste měli dokonalý zálohování připraven jít. 

Ty by mohly být trochu milovník o tom, jak někteří lidé často dělají, kde vás může mít databáze číslo čtyři tady, Databáze číslo pět sem, které se mluví k sobě navzájem. Ale máte také tento druh arrangement-- a to úmyslně vypadá chaotický, protože to je-- kde všechny přední end servery mohou mluvit všechny zadní konec servery. A tak pokud tato databáze není reagovat, tyto přední end servery mají mít programování Kód v nich, která říká, pokud nechcete dostat Připojení k této databázi, Primární okamžitě začne mluvit s sekundární. 

Ale to teď tlačí složitost kódu. A teď vaše vývojáře, váš software vývojáři, musí vědět o tom. A vy druh vázání kód, který píšete do svého skutečného back-end implementační detaily, což ztěžuje, zejména ve větším společnost nebo větší webové stránky, kde se nemusí nutně Chcete-programátoři mít vědět, jak databáze inženýři dělají svou práci. Možná budete chtít, aby tyto role druh funkčně odlišné, takže že tam je tato vrstva abstrakce mezi těmito dvěma. 

Tak jak můžeme tento problém vyřešit? No, jsme trochu vyřešen Tento problém jednou. Proč ne my dal jeden z tyto věci tady, kde hovoří zase na číslo čtyři a pět, všechny webové servery front end promluvit k tomuto prostředníka, a prostředníka podle pořadí trasách svá data? Ve skutečnosti, co by mohlo být dobré jméno pro tuto věc? 

Diváků: [neslyšitelné] DAVID Malan: OK, správce databáze. Ale to, co by mohlo být, že termín můžeme znovu použít pro toto zařízení? Jsme vyvažování. Jo, vlastně jsem Není tady fér. Takže pro vyrovnávání zatížení by znamenalo, že my přepínání tam a zpět tady, která nemusí být ve skutečnosti tento případ. Takže tam je několik způsobů, jak bychom to mohli udělat. 

Pokud je to ve skutečnosti pro vyrovnávání zatížení je příběh je přesně stejný jako předtím. Některé z těchto požadavků přejděte na 4. Některé z nich jdou až 5. A to je dobře. Vzhledem k tomu, nyní můžeme zvládnout dvakrát tolik propustnost. Ale toto spojení Zde je super důležité. Mají neustále zůstat synchronizované a doufejme nejsou geograficky příliš daleko od sebe, takže že je v podstatě synchronizace okamžitý. V opačném případě bychom mohli mít problém. 

Takže to není špatné. Ale opět, my máme představil nový problém. Jaký problém jsem právě znovu? Jediný bod selhání. Takže jaké je řešení, aby to? Tak jako Victoria je rád utrácet peníze, můžeme vzít toho chlapa ven a to udělat. A já jsem prostě jít přesunout zde dostatek prostoru. A to bude trochu chaotický. Budu držet kreslení čar. Domníváme se, že všechny tyto linky jít do obojí? 

Velmi časté technika by zde být používat techniku ​​zvanou tep přičemž každé z těchto zařízení, levý a pravý balancery zatížení, nebo co chceme nazývat, se neustále říká, že jsem naživu, Jsem naživu, jsem naživu, jsem naživu. Jeden z nich ve výchozím nastavení působí jako primární. Takže veškerý provoz je směrován skrz jeden na levé straně, například, Ve výchozím nastavení, libovolně. 

Ale jakmile ten chlap na pravé straně není slyšet z levého chlapa už, ten, na pravé straně je naprogramován automaticky, například, převzít IP adresu z jednoho nalevo, a proto se stal hlavním a Možná poslat e-mail nebo textovou zprávu k lidem říct, hej, levý primární je v režimu offline. I stane primárním nyní. Takže viceprezident se stane prezident, tak říkajíc. A někdo musí jít zachránit prezident, chcete-li. Vzhledem k tomu, teď máme dočasný jediný bod selhání. 

Tak jak komplikované nebo stresující as to může zdát na začátek bytí, To je, jak tyto problémy řešit. Uděláte házet peníze na něj. Hodíte hardware na něj. Ale bohužel vám přidat složitost pro něj. Ale výsledek, nakonec, je to, že máte mnohem více, teoreticky, robustní architektury. Je to stále není dokonalý. Protože i když jsme have-- bychom mohli nebude mít jediný bod selhání. Nyní máme dvojí body selhání. Ale pokud dvě věci pokazí, který absolutně mohl, pořád bude v režimu offline. 

A tak velmi časté v průmysl je popsat Vaše doba, pokud jde o devítky. A druh brány aspirovat, je 99,999% času jsou vaše stránky on-line. Nebo ještě lépe, přidejte Ještě pár devítky na to. Bohužel, tito devítky jsou velmi drahé. A pojďme vlastně to ven. Takže když otevřu můj velký kalkulačku znovu, 365 dní v roce, 24 hodin denně, 60 minut za hodinu, a 60 sekund za minutu, To je, kolik sekund existují za rok, jestli jsem to udělal správně. Pokud tedy časy tím .99999, to je kolik času chceme usilovat. Takže to znamená, že bychom měli být vzhůru O mnoho sekund v průběhu roku. Takže když jsem teď odečíst Původní hodnota, nebo spíše tato nová hodnota od first-- 316 sekund, což je samozřejmě je pět minut. 

Takže pokud vaše webové stránky nebo vaše společnost prohlašovat "pět devítky", čímž kde jsi až 99,99% času, které vás znamená lepší byli dost chytrý a rychlý dost a dost v jedné rovině se zdroji že vaše servery jsou pouze v režimu offline pět minut z celého roku. Je to drahé a tvrdá věc usilovat. 

Takže je to kompromis, taky. 99,999% času je dost zatraceně těžké a drahé. Pět minutes-- můžete jen stěží dostat na server fyzicky nahradit něco, co se pokazilo. A to je důvod, proč začneme elektroinstalace věci dohromady složitější apriori tak, že počítače může nějak opravit sami. To jo. 

Diváků: [neslyšitelné] DAVID Malan: problém by mohl být v libovolném počtu míst. A v fact-- 

Diváků: [neslyšitelné] DAVID Malan: Určitě, určitě. A jak je obraz stále složitější, Mohlo by to být webové servery. Mohlo by to být moc budovy. Mohlo by to být něco fyzického, jako kabely dostal roztřepené či vyhozen. Mohlo by to být databáze neodpovídá. Mohlo by to být oni aktualizovat svůj provoz Systém a něco visí. Takže existuje mnoho dalších pohyblivých částí. A tak hodně inženýrství že musí jít za tímto je opravdu jen kompromisy, jako jak kolik času, kolik peněz je to vlastně stojí za to, a jaké jsou hrozby jste opravdu starosti? Například, v kurzy Učím na Harvardu, používáme hodně cloud computing, který začneme se podrobněji podíváme na teď, Ve skutečnosti, pokud použijeme Amazon Web Services. Jen proto, že je jednou jsme začali. Ale je tu stále v těchto dnech od Google a Microsoft a další. A my vědomě dát všechny virtuálních strojů našich kurzů ', jak se jim říká, v myslím, je to Západní Virginie datových center. Většina našich studentů stalo, že se z USA, ačkoli tam jsou jistě některé mezinárodní úrovni. 

Ale skutečnost je taková, že je to jen jednodušší a je to levnější pro nás aby všechny naše vejce V Virginie koše, i když vím, jestli se něco pokazí ve Virginii, as má občas happened-- jako jestli je tu hurikán nebo nějaký počasí událost jako to, jestli existuje nějaký Problém rozvodnou síť nebo všechny jako-- datové našich kurzů "by mohl přejít do režimu offline na určitý počet minut nebo hodin nebo ještě déle. 

Ale množství složitosti které by byly zapotřebí, a množství peněz, které by být požadováno, aby provoz vše paralelně v Evropě nebo v Kalifornii prostě nedává tolik smysl. Takže je to racionální obchod off, ale bolestivé jednom když jste vlastně která s tímto prostoje. 

Dobře, pojďme přechod právě teď některá řešení na principu shluků na některé z těchto problémů. Všechno, co jsme byli diskutovat tak daleko je druh problémů, jež mají Byl s námi na nějakou dobu, zda máte svůj vlastní servery ve vaší společnosti, zda jdete do společného umístění umístit jako datovém centru a podíl prostor s někým jiným, nebo v současné době v cloudu. 

A co je hezké o mrak je, že všechny z těchto věcí, jsem kreslení jako fyzické objekty Nyní si lze představit jako jakési virtuální předměty V oblaku, které jsou simulován se softwarem. Jinými slovy, počítače dnes, servery dnes, jako na obrázku Dell I ukázal dříve, jsou tak rychle, mají tolik RAM, CPU tolik, tolik disk space, že lidé psali software prakticky partition jeden server až do iluze toho přičemž dva servery, nebo 200 serverů, takže že každý z nás zákazníků má iluzi mít není jen konto na nějakém webu hostit, ale naše vlastní stroj, který jsme pronájem od někoho jiného. 

Ale je to virtuální stroj pokud je na jednom serveru Dell, se opět mohla být rozdělena až do dva nebo 200 či více virtuálních počítačů, z nichž všechny, aby někdo administrativní přístup, ale takovým způsobem, kdy nikdo z nás ví nebo mohou přistupovat jiný virtuální Stroje na stejném hardwaru. Takže namalovat obraz v dnešních skluzavky, Jsem si to tady střílel z webových stránek volal Docker. 

Tak tohle je trochu více detail, než jsme skutečně potřebují. Ale pokud si to jako váš infrastructure-- tak jen hardware svůj vlastní, servery, stojany, data centrum, a všichni to-- byste obvykle běží operační systém hostitele. Takže něco jako-- by to mohlo být Windows. Nebylo by Mac OS. Vzhledem k tomu, že to není opravdu podnik v těchto dnech. Tak to by bylo Linux nebo Solaris nebo Unix či BSD nebo FreeBSD nebo libovolný počet jiných operačních systémů že jsou buď zdarma nebo obchodní. 

A pak spustit Program, speciální program, volal hypervisor, nebo Virtuální počítač monitor, VMM. A jedná se o produkty, pokud jste obeznámeni, jako je VMware nebo VirtualBox nebo Virtual PC nebo jiné osoby. A co tyto programy udělat, je přesně to, že rys jsem popsal dříve. To vytváří iluzi, že jednom fyzickém počítači může být více virtuálních strojů. 

A tak tyto barevné boxy nahoru vrcholu je malování obrázku z následujících možností. To hypervisor, toto kus softwaru, říkejte tomu VMware, běžící na nějaký jiný operační systém, volat to Linux, vytváří iluzi, že Tento fyzický počítač je ve skutečnosti Jedna, dvě, tři virtuálních počítačů. Takže jsem teď koupil, jako majitel Tento hardware, jeden fyzický počítač. A teď jsem pronájem to tři zákazníky. 

A tyto tři zákazníci všichni myslí mají vyhrazené virtuální stroj. A není to návnadu a přepínač. Je to víc, že ​​zpřístupnění používáte virtuální stroj. Ale technologicky, my všichni mít plnou kontrolu nad správou více než každý z těchto hosta operační systémy, které by mohly být libovolný počet operačních systémů. 

Mohu instalovat cokoliv chci. I to lze provést upgrade, jak chci. A já nemají ani vědět, nebo záleží na ostatních provozních systémy na tomto počítači, ostatní virtuální stroje, pokud je vlastníkem veškerého této šedi věc je být trochu chamtivý a je overselling jeho nebo její zdroje. 

Takže pokud jste s některou fyzický počítač a prodávat ji aby ne 200, ale 400 zákazníci v určitém okamžiku jdeme na výlet na ty, Stejné problémy s výkonem jako předtím. Protože máte jen omezené Množství disku a RAM a tak dále. A virtuální stroj je jen program, který je předstírat, že je plnohodnotným počítačem. Takže dostanete, co si zaplatí zde. 

Takže najdete on-line můžete platit seriózní firma asi 100 $ za měsíc pro své vlastní virtuální stroj, nebo svůj vlastní virtuální privátní server, což je další termín pro to. Nebo byste mohli najít nějaký letí Noční kde platíte 5,99 $ za měsíc pro své vlastní virtuální stroj. Ale šance jsou nemáte zdaleka tolik výkonu máte k dispozici, protože to už overselling ano, než byste s vyšším tier služby nebo lépe prodejce. 

Takže co to vlastně znamená pro nás? Tak nech mě jít na to. Chystám se jít do aws.amazon.com. Jen proto, že mají pěkná nabídka možností. Titíž ponaučení platí do A celá řada jiných dodavatelů cloud. Bohužel, je to často více marketing mluvit než cokoli jiného. A to se neustále mění. Takže jdete na webové stránky, jako je tento. A to opravdu není ti nic moc. 

A dokonce jsem, jak se dívám na to, že ano Opravdu víte, co některé z těchto věcí nutně dělat, dokud jsem se ponořit. Ale začněme na levé straně, spočítat. A já jdu kliknout to. A teď Amazon má otevřeně ohromující množství služeb tyto dny. Ale Amazon EC2 je možná nejjednodušší. 

Amazon EC2 bude vytvářet pro nás přesně obraz jsme viděli před chvílí. Je to, jak oni dělají hodně jejich peníze v cloudu. Zřejmě Netflix a další jsou v oblaku s nimi. To je vše, typicky načechraný marketing mluvit. Takže to, co chci udělat, je jít do Pricing-- nebo raději pojďme do instancí První prostě namalovat obraz tohoto. 

Takže to bude lišit podle dodavatele. A nepotřebujeme se dostat příliš hluboko do plevel tady, jak to všechny práce. Ale způsob, jakým Amazonie, například, pronajme vám virtuální stroj nebo server v cloudu je, že mám Tyto jakési legrační jména, jako t2.nano, což znamená, že malé, nebo t2.large, což znamená, že velká. Každý z nich vám dá buď jedna nebo dvě virtuální CPU. 

Proč je to virtuální CPU? No, mohlo fyzický stroj mají 64 nebo více skutečných CPU. Ale opět, pomocí softwaru, oni vytvářejí iluzi že jeden stroj může být divvied až více uživatelů. Takže můžeme myslet na to, jak mající jeden procesor Intel nebo dva. CPU kreditů za hour-- bych muset přečíst drobným písmem o tom, co to vlastně znamená. To znamená, že, jak velká část stroje můžete použít za hodinu vis-a-vis ostatní zákazníci na tomto hardwaru. 

Tady je, kolik paměti RAM nebo paměťové vás get-- buď půl gigabyte, nebo 500 MB, nebo 1GB, nebo 2. A pak se skladování jen odkazuje jaký druh disků dávají vás. K dispozici je něco jiného úložiště Technologie, které nabízejí. Ale mnohem zajímavější než to pak může být stanovení cen. 

Takže pokud jste ČTÚ nebo inženýr, který nemá chcete spustit server ve vašem úřadě, z jakéhokoli důvodu, a je to způsob, jak moc komplikované nebo nákladné kupovat servery a co-lokalizovat je a platit nájem v nějakém fyzickém prostoru klece somewhere-- chcete jen sedět na svém notebooku pozdě v noci, zadejte údaje o kreditní kartě, a pronájem serverů v cloud-- dobře, můžeme učinit zde. Chystám se jít dolů to-- Linux je populární operační systém. A ať to jen získat pocit věcí. Whoops-- příliš velký. 

Takže pojďme se podívat na jejich nejmenšího virtuální stroj, který vypadá, že má, Pro naše účely, jeden CPU a 500 MB RAM. To je docela malý. Ale upřímně řečeno, webové servery nemají je třeba udělat vše, co moc. Máte lepší specifikace ve vašem notebooku. Ale vy nemusíte ty, Specifikace těchto dnech pro věci. Budeš platit $ ,0065 za hodinu. 

Takže uvidíme. Pokud existují 24 hodin denně, a budeme platit tolik za hodinu, to vás bude stát $ 0,15 až pronajmout že Zejména serveru v cloudu. A to je jen na jeden den. Pokud bychom to udělat 365-- 57 $ na nájemné, které konkrétní server. Tak zní to mimořádně levné. 

To je také mimořádně nízký výkon. Tak jsme, kurzy učím tady, mají tendenci používat Myslím, že t2.smalls nebo t2.mediums. A mohli bychom mít několik set Uživatelé, několik tisíc uživatelů, celkem. Je to docela skromný. Tak uvidíme, co by to stálo. Takže pokud mám s těmito náklady krát 24 hodin časy 365, tohle je $ 225. A do kurzů Učím, jsme se obecně spustit všechno dvakrát, pro redundance a také pro výkon. Takže bychom mohli utratit, tedy $ 500 pro servery že bychom mohli potřebovat ročně. 

Nyní, pokud budete potřebovat více performance-- pojďme se podívat na paměti. Mluvili jsme o paměti docela dost. A pokud potřebujete více memory-- a 64 gigabajtů je číslo jsem si nechal mentioning-- To je téměř $ 1 na hodinu. A můžete si docela rychle zjistit, kde to tak goes-- 24 hodin krát 365. Takže teď je to $ 8,000 za rok za docela slušné serveru. 

Takže v určitém bodě, je tu Tento inflexní bod kde teď jsme mohli strávit $ 6000 Pravděpodobně a koupit stroj takhle a umořovat své náklady přes možná dvě, tři roky, životnost stroje. Ale co byste mohli tlačit upřednostňují nebo nelibost pronájmu stroj v cloudu jako je tohle? Opět platí, že toto je srovnatelný, pravděpodobně k jednomu z těchto serverů Dell jsme viděli na snímku před bit. 

Diváků: [neslyšitelné] 

DAVID Malan: Jo, to je obrovský vzhůru. Protože nejsme kupte si to Stroj, nemusíme ji Unbox. Nemáme ji zvednout. Nemáme ji zapojit do našeho racku. Nemáme ji zapojit. Nemáme platit elektrické bill. 

Nemáme se obrátit klimatizace dál. Když pevný disk umírá, nemáme řídit v uprostřed noci to opravit. Nemáme nastavit sledování. Nemáme to-- seznam pokračuje a ze všech fyzických věcí nemusíte dělat protože "oblaku". 

A aby bylo jasno, cloud computing Je to velmi nadužíváno termín. Je to opravdu jen znamená platit někoho, kdo else spustit servery pro vás, nebo pronájem prostor na Servery někoho jiného. Takže termín "cloud computing" je nový. Myšlenka je desítek let. Tak to je docela přesvědčivé. 

A co víc dostanete? No, můžete také získat schopnost dělat vše na notebooku doma. Jinými slovy, všechny Fotografie: Jen jsem se drawing-- a nebylo to tak dávno, že i Byl jsem procházení kolem na serveru podlaze zapojování kabelů v pro každý z řádků, které vidíte, a inovace operačního systémy a změna jednotky v okolí. Je tu spousta tělesnost, aby všechno. 

Ale co je krásné o virtuální stroje, jak již název napovídá druh, Nyní existuje webová rozhraní pricemž Chcete-li ekvivalent čáry z tohoto serveru do druhého, stačí napsat, typ, typ, kliknutím a tažením, klepněte na tlačítko Odeslat a voila, Máte to zapojen virtuálně. Vzhledem k tomu, to vše provedeno v softwaru. A důvod, proč se to dělá V software je opět protože máme tolik RAM a tak hodně CPU k dispozici pro nás v těchto dnech, i když všechny že věc vyžaduje určitý čas, to je pomalejší spustit věci V softwaru než hardwaru, stejně jako je to pomalejší použít mechanické Zařízení funguje jako pevný disk, než RAM, něco čistě elektronický. Máme tolik zdrojů které máme k dispozici. My lidé jsou nějak invariantly pomalé. A tak teď stroje mohou dělat mnohem více za jednotku času. Máme tyto schopnosti dělat věci virtuálně. 

A řeknu kurzy Učím, například tady, máme asi možná tucet takže celková virtuálních strojů takhle běží na nějaký daný Doba dělá přední koncovou věci, vyváděl end věci. Máme všechny naše skladování. Takže jakákoliv videa, včetně věcí jako je tato, že jsme střelbu, skončíme uvedení do cloudu. Amazon má služby s názvem Amazon S3, Jejich jednoduchý skladovací služby, které je stejně jako místa na disku v cloudu. Mají něco volal CloudFront, který je CDN služba, Content Delivery Network služba, která znamená, že berou všechny vaše soubory a pro vás automagicky replikovat okolo světa. 

Takže oni nedělají to preventivně. Ale první, když někdo v Indii vyžádá soubor, budou potenciálně do mezipaměti jej lokálně. Poprvé v Číně, Poprvé v Brazílii se to stane, začnou mezipaměti jej lokálně. A nemusíte dělat nic z toho. A tak to je tak neuvěřitelně přesvědčivé v těchto dnech se věci pohnuly do oblaku. Vzhledem k tomu budete mít tuto schopnost doslova nemít lidé dělají skoro stejně práce. A vy doslova nepotřebují tolik Lidé dělají tyto úlohy anymore-- "ops" nebo provozní role, už ne. Opravdu stačí vývojáři a méně inženýři kteří mohou jen dělat věci virtuálně. Ve skutečnosti, jen proto, aby Jste pocit z toho, nech mě jít do cen pro jeden další produkt zde. Podívejme se něco podobného CDN S3. Tak to je v podstatě virtuální pevný disk v cloudu. A pokud bychom nalistujte pricing-- takže je to 0,007 $ za gigabajt. A that's-- jak to děláme? Myslím, že to měsíčně. 

Takže pokud je to za měsíc-- nebo za den? Dane, to je za den? To je měsíčně, OK. Takže, pokud je to na měsíc-- Omlouvám se, to je 0,03 $ měsíčně. K dispozici je 12 měsíců z roku. Tak kolik dat by mohly ukládat do cloudu? Gigabyte není velký, ale já nevědí, jako 1 terabyte, tak jako 1000 z nich. To není tak moc. Je to 368 $ pro uložení terabyte dat v Amazon mrak. Takže jaké jsou některé z obchodní off, pak? Nemůže být všechny dobré. Nic jsme mluvili o kterém dnes je druh bez úlovku nebo náklady. Takže co je špatného na tom stěhování vše do oblak? Diváků: Security. DAVID Malan: OK, co tím myslíš? Diváků: [neslyšitelné] DAVID Malan: Jo, jasně. A opravdu chceš Některé náhodné inženýři na Amazon, že budete nikdy nesetkají s fyzický přístup k těmto počítačům, a zda skutečně Chtěli, virtuální přístup? A i když v Teorie software-- dobře, Šifrování může absolutně chránit proti tomu. Takže pokud to, co jste uchovávání dat na svých serverech Je encrypted-- menší obavy. 

Jakmile se však člověk má fyzikální přístup ke stroji, šifrování stranou, všechny sázky jsou tak nějak mimo. Možná budete znát z dávných dob že osobní počítače, zejména, i když jste měli ty věci zvané "hesla BIOS," bylo, když váš desktop bota autobus, byste být vyzváni s heslem, které nemá nic společného s Windows, můžete typicky stačí otevřít podvozku Stroj, najít malinké kolíky, a použít něco jako skokan a stačí připojit tyto dva dráty pro asi vteřinu čímž se dokončí obvod. A to by odstranilo heslo. 

Takže pokud máte fyzický přístup k zařízení, můžete dělat takové věci. Můžete vyjmout pevný disk. Můžete získat přístup k němu tímto způsobem. A tak to je důvod, proč v případ Dropbox, Například, je to trochu znepokojující, že nejen to, že mají data, i když je to šifrované, mají také klíč. Jiné starosti? 

Diváků: [neslyšitelné] DAVID Malan: Jo, je to velmi true-- na brýle, jablka, že Microsofts světa. A ve skutečnosti, jak dlouho mají jste měli váš iPhone pro? Jo, plus mínus. Diváků: [neslyšitelné] DAVID Malan: Je mi to líto? Jsi mezi těmi, kteří má iPhone, ne? Diváků: Ano. DAVID Malan: Jak dlouho jste měl váš iPhone? Diváků: [neslyšitelné] DAVID Malan: OK, takže Apple doslova ví kde jste byli každou hodinu den za posledních pět let. 

Diváků: [neslyšitelné] DAVID Malan: Což je úžasná vlastnost. Diváků: [neslyšitelné] DAVID Malan: Jo, ale trade off jisté. Diváků: [neslyšitelné] 

DAVID Malan: Jo, je to velmi snadné. Diváků: [neslyšitelné] DAVID Malan: Další nevýhody? Diváků: [neslyšitelné] DAVID Malan: Absolutely-- technologicky, z ekonomického hlediska, je to docela přesvědčivé, aby nějak získat tyto úspory z rozsahu a přesunout vše do takzvaný cloud. Ale vy pravděpodobně chtít jít s některými z největších ryby, Amazonky se Brýle se Microsofts-- Rackspace je docela big-- a pár dalších, a ne nutně létat nočními lidí pro něž je to velmi snadné dělat tento druh techniky v současné době. A to je, kterého můžete zaplatit $ 5,99 za měsíc. Ale budete určitě dostanete, co si zaplatí. 

Když říkáte [neslyšitelné], to je, když věci, jako je těchto pět devítek přijít, přičemž i v případě, technologicky opravdu nemůžeme zaručit 99.999, prostě budeme stavět v nějakém druhu penále ke smlouvě tak, že v případě, že se stane, alespoň tam je nějaký náklady na nás, prodejce. A to je to, co byste typicky být jak se jim dohodnout na. 

Diváků: [neslyšitelné] 

DAVID Malan: A jeden druh požehnání je, že i když jdeme dolů, pro instance, nebo dokonce některé společnosti, realita je Amazon, Například, má tolik zatraceně zákazníci, známí zákazníci, operující z určitých datových center že když něco opravdu pokazí, jako živelných pohrom a počasí a tak, jestli existuje nějaký druh stříbrné obložení, je to, že jste ve velmi dobré společnosti. Vaše webové stránky by mohly být v režimu offline. Ale stejně tak je jako polovina populární internet. A tak je to pravděpodobně trochu chutnější svým zákazníkům jestli je to spíše internetu věc, než acme.com věc. Ale to je tak trochu podvodník. 

Takže, pokud jde o jiné věci na pohled, jen proto, že nemáme vyloučit ostatní, pokud jdete na Microsoft Azure, že mají jak Linux a Windows věci To je srovnatelné s Amazon. Pokud půjdete do Google Compute Engine mají něco podobného stejně. A jen proto, aby kola ven Tyto oblak nabídky, Udělám zmínku ještě jedna věc. To je populární webové stránky To je reprezentativní třídy technologií. Ty, které jsme právě hovořili o, Amazon, by IAAS, Infrastruktura jako služba, kde vás druh fyzický hardware jako služba. Je tu SAAS. Ve skutečnosti mi dovolte poznamenat těchto dolů. 

IAAS-- infrastruktura Jako služba, SAAS, a PaaS, které jsou pozoruhodně matoucí zkratky které jsou popsány tři různé druhy věcí. A samotných akronymy to vůbec nevadí. To je vše, o oblaku věci jsme právě mluví, Věci nižší úroveň, tím virtualizace hardwaru a skladování V tzv mraku, ať už je to Amazon, Microsoft, Google, nebo jiné. 

Software jako service-- každý z nás trochu používat. Pokud používáte Google Apps pro Gmail nebo kalendáře, některé z nich na bázi webových Před aplikací, které 10 lety jsme by poklepání na ikony náš desktop, software jako služba Nyní je opravdu webové aplikace. A platforma jako Služba druh závisí. 

A jeden příklad dám ti tady v souvislosti s cloud computing-- je tu ještě jedna společnost, která je docela populární v těchto dnech, Heroku. A jsou služby, platforma, chcete-li, který běží na vrcholu Amazon infrastruktura. A oni jen aby to bylo ještě jednodušší pro vývojáře a inženýry získat webové aplikace on-line. 

To je bolest, zpočátku, k použití Amazon Web Services a další věci. Vzhledem k tomu, jste skutečně znát a chápat o databází a webových serverů a zatížení balancery a všechny ty věci, Právě jsem mluvil o. Protože všechny Amazon odvedl není skrytý tyto designové výzvy. Už jen virtualizována jim a přesunout je do prohlížeče, do softwaru namísto hardwaru. 

Ale firmy jako Heroku a další poskytovatelé PaaS, platforma jako služba, oni používají tyto základy barebone že jsme právě mluvili, a vytvářet jednodušší použitelný software na něj takže pokud se chcete dostat na bázi webových Aplikační on-line v těchto dnech, máte jistě umět programovat. Musíte vědět, Java nebo Python nebo PHP nebo Ruby nebo spoustu dalších jazyků. 

Ale také potřebují místo, kam jej. A mluvili jsme o dřívější získání web hosting společnost. To je tak nějak podobně poloviny 2000s Přístup k získání něčeho online. V současné době můžete místo toho platit někoho, jako Heroku pár dolarů za měsíc. A v podstatě, jakmile jste udělal nějaké počáteční konfigurace, aktualizovat své webové stránky, stačí zadat příkaz v okně. A bez ohledu na kód jste napsali tady na svém notebooku okamžitě dostane rozdělí na libovolný počet serverů v cloudu. 

A Heroku pečuje o všechny složitosti. Myslí si všechny databáze věci, vše vyvažování zátěže, všechny bolesti hlavy, které jsme právě napsal na tabuli, a skrýt to vše za vás. A na oplátku, stačí platit jim trochu víc. Takže máte tyto infrastruktury jsou služby, platformy jako služby, a pak software jako služba. Je to, znovu, abstrakce nebo vrstvení. 

Jakékoliv dotazy na oblaku nebo budování něčí vlastní infrastrukturu? Dobře, to bylo hodně. Proč nejdeme do toho a vzít naši 15 minut přestávku zde. Vrátíme se s několika nových koncepcí a trochu hands-na příležitost před tím, než večer je u konce. 