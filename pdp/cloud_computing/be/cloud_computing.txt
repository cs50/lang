DAVID Малання: Добра, дабро запрашаем назад. Перш чым пагрузіцца ў хмарных вылічэнняў, Я думаў, што на хвіліну спыніцца калі ёсць якія-небудзь нявырашаных пытанняў, або тэмы, якія прыйшлі ў час абеду што, магчыма, у цяперашні час мае інтарэс. ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: OK. О, добра. ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Не, вядома. Добра, добра, спадзяюся, усе вашы праблемы ўзнікаюць у бліжэйшыя гадзіны а заўтра асабліва. Але давайце паглядзім, а затым, пры якім Апошняе абмеркаванне гэтага пытання аб стварэнні вэб-сайт прыводзіць, у больш агульным плане калі справа даходзіць да хмарных вылічэнняў, стварэнне сервернай архітэктуры, віды рашэнняў што інжынеры і распрацоўшчыкі і менеджэры трэба зрабіць, калі гаворка ідзе рабіць больш, чым проста падпісаўшыся на $ 10 у месяц вэб-хостынгу калі вы на самой справе хочаце, каб будаваць з ваша ўласная інфраструктура. І мы будзем старацца, каб звязаць гэтую спіну, напрыклад, да Dropbox і іншыя як яны. 

Такім чынам, давайце пачнем разглядаць якія праблемы ўзнікаюць у бізнэсе атрымлівае добрыя і ўзнікаюць добрыя праблемы. Такім чынам, у самым простым выпадку наяўнасці нейкая кампанія, якая мае вэб-сервер, Вы маглі б мець, скажам, сервер, мы проста маляваць, што выглядае наступным чынам. І ў гэтыя дні, большасць servers-- і давайце фактычна паставіў карціну на гэта проста так што гэта крыху менш за туманныя. 

Так Dell стойкі server-- назад у той жа дзень, там былі мэйнфрэйм што ўзяў цэлыя пакоі. У гэтыя дні, калі вы былі каб атрымаць сервер, яго можа выглядаць трохі нешта накшталт гэтага. Серверы вымяраюцца ў якім называюцца стойкавых адзінак, або БПРМ. І адзін RU складае 1,5 цалі, які з'яўляецца прамысловым стандартам. Так што гэта выглядае як сервер два RU. Так што 3 цалі у вышыню. І яны, як правіла 19 цаляў у шырыню, што азначае ўсе такога роду рэчы стандартызаваны. 

Так што, калі вы паглядзіце ў center-- дадзеных а не толькі на адным серверы, але давайце паглядзіце на Google, цэнтраў апрацоўкі дадзеных і паглядзець, калі мы убачыць прыгожую карцінку ў Google Images. Гэта значна лепш, чым вы святло як правіла, знайсці, і многае сэксуальней гледзячы, як вынік. але гэта тое, што выглядае як пара сто сервераў ўсе аб тым жа памеры, на самой справе, у стойку пасля стойкі пасля таго, як стойкі пасля стойкі ў цэнтры апрацоўкі дадзеных. 

Нешта накшталт this-- гэта цалкам можа быць кампаніі Google, так як я гугле Google. Але гэта можа быць прадстаўнік ў больш агульным плане цэнтр апрацоўкі дадзеных, у якім шматлікія кампаніі, як правіла, размешчаны сумесна. І сумешчаных ў агульным выпадку азначае што вы ідзяце ў такім месцы, як Equinix або іншых вытворцаў, якія маюць вялікія склады, якія маюць шмат энергіі, шмат астуджэння, мы спадзяемся, шмат бяспекі, і асобныя вальеры агароджваюць стойкі серверы, і вы альбо арандаваць стойкі ці вы прыносіце стойкі ст. 

А асобныя кампаніі, стартапов асабліва, будзе мець нейкі біяметрыі каб патрапіць у іх клетцы, або клавішы, або ключ-карта. Вы адкрываеце дзверы. А ўнутры ёсць толькі квадрат кадры след што вы плаціце за, ўнутры якія вы можаце пакласці ўсё, што вы хочаце. 

І вы, як правіла, плацяць за ўладу. І вы плаціце за адбіткамі. А потым вы плаціце самастойна для сервераў што вы чаго ў гэтую прастору. А што вы тады мець магчымасць зрабіць гэта плаціць каму-то для падлучэння да Інтэрнэт-паслуг. Вы можаце аплаціць любую колькасць пастаўшчыкоў, кожны з якіх як правіла, трапляюць у гэты цэнтр апрацоўкі дадзеных. 

Але рэальны цікавае пытанне, што на самой справе ідзе ў гэтых стойках? Яны могуць усё вельмі добра выглядаць так, як мы толькі што бачылі. Але яны выконваюць розныя функцыі і, магчыма, прыйдзецца рабіць розныя рэчы. І давайце на самай справе матываваць гэта абмеркаванне з пытаннем пра тое, якія праблемы пачынае ўзнікаць, калі вы паспяховыя? 

Так што ў вас ёсць вэб-сайт што вы пабудавалі. А можа быць, ён прадае фішкі ці нешта ў гэтым родзе. І вы робіце вельмі добра з продажамі віджэтаў ў Інтэрнэце. І вы пачынаеце адчуваць некаторыя сімптомы, ваш вэб-сайт. Што можа быць некаторыя з тэхнічныя сімптомы што карыстальнікі паведамляюць, як бізнэс расце і квітнее і ваш сайт выгаду ад гэтага? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, дакладна. Такім чынам, вы маглі б мець запаволенне вашага вэб-сайта. І чаму гэта магло адбыцца? Ну, калі мы выкажам здагадку, для дзеля абмеркавання прама зараз, што вы знаходзіцеся на адным з гэтых камерцыйных вэб-хасты што мы гаварылі пра перад абедам, што вы плаціце некаторы колькасць долараў у месяц, і вы ўжо заплацілі для гадавога кошту вашага дамена імя, што вэб-хостынгу, верагодна, пераацэньваць свае рэсурсы ў некаторай ступені. Так што вы можаце мець імя карыстальніка і пароль на сваім серверы. Але так можа некалькі іншых, або некалькі дзясятка іншых, або, магчыма, нават некалькі сотні іншых, карыстальнікаў. 

І сайты жывуць фізічна на тым жа серверы. Чаму гэта магчыма? Ну ў гэтыя дні, серверы як гэта звычайна ёсць некалькі жорсткіх дыскаў, можа быць, цэлых шэсць ці больш жорсткіх дыскаў, кожны з якіх можа быць столькі, як 4 тэрабайт ў гэтыя дні. Такім чынам, вы маглі б мець 24 тэрабайт прасторы усяго за адзін маленькі сервер, як гэта. 

І нават калі вы скрасці частка гэтай прасторы для рэзервавання, для мэтаў рэзервовага капіявання, гэта ўсё яшчэ даволі шмат месца. І, вядома ж, тыповы вэб-сайт не трэба шмат месца. Проста рэгістрацыі карыстальнікаў і захоўвання часопісаў заказаў не прымаць усё, што шмат месца. Такім чынам, вы можаце падзяліць яго досыць трохі і даць кожнаму карыстальніку толькі крыху кавалачак гэтага. 

У той жа час, кампутар як гэта ў гэтыя дні як правіла, мае некалькі CPUs-- не толькі адзін, можа быць, два, можа быць чатыры, можа быць, 16, ці нават больш. І кожны з гэтых працэсараў ёсць тое, што называецца ядро, якое накшталт як мозг ўнутры мозгу. Так што на самай справе большасць усіх прысутных тут з сучасныя ноўтбукі, верагодна, двух'ядравы або чатырох'ядравым CPU-- і, верагодна, толькі адзін працэсар ўнутры наўтбука ў гэтыя дні. Але настольныя кампутары і стойкавыя кампутары, такія як гэта можа мець нямала чым больш працэсараў, і ў сваю чаргу сардэчнікаў. 

І, шчыра кажучы, нават у нашых кампутарах Mac і ПК сёння, вы на самой справе не патрэбныя двух'ядравы або чатырох'ядравых ядра, каб праверыць сваю электронную пошту. Калі ёсць вузкае месца, калі гаворка ідзе аб выкарыстанні кампутара, Ты чалавек, верагодна, самая павольная рэч аб гэтым кампутары. І вы не збіраецеся быць у стане праверце сваю электронную пошту хутчэй, калі вы маюць у чатыры разы больш працэсараў або ядраў. 

Але той жа самы добры праўдзівага сервера. Адзін адзіны вэб-сайт не можа абавязкова трэба больш, чым адзін Працэсар або адно ядро, адзін маленькі мозг ўнутры робіць усе мыслення і апрацоўкі. Так вытворцы аналагічна пачаў нарэзаць гэтыя рэсурсы так што, магчыма, ваш сайт атрымлівае адзін ядро, ваш сайт атрымлівае адно ядро, або, можа быць, мы падзяляем адну такую ​​асяродак. Мы таксама абмен дыскавай прасторы. І мы таксама абмен аператыўнай памяці, ці памяці адвольнага доступу ад раней, з якіх ёсць таксама канчатковае колькасць. 

І гэта ключ. Незалежна ад таго, наколькі дорага кампутар быў, ёсць яшчэ канчатковае аб'ём рэсурсаў у ім. І таму ўсё больш і больш за вас паспрабуйце спажываць тыя рэсурсы, тым павольней рэчы маглі б стаць. Але чаму? Чаму б рэчы запаволіць як сімптом перагрузкі сервера? Што адбываецца? 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Так, дакладна. Я прапанаваў, што раней Аператыўная памяць ўяўляе сабой тып памяці. Гэта лятучае, прычым гэта дзе прыкладанні і дадзеныя захоўваюцца, калі яны выкарыстоўваюцца. І вось таму ёсць толькі канечны лік рэчаў, якія вы можаце зрабіць, па-відаць, адразу ж. І гэта таксама хутчэй, які з'яўляецца добрай рэччу. Але гэта таксама даражэй, які з'яўляецца дрэннай рэччу. І гэта таксама, такім чынам, прысутнічае ў ніжняй колькасцях, чым на дыску, жорсткі дыск прастору, якое, як правіла, танней. 

Іншымі словамі, вы можа мець 4 тэрабайт дыскавай прасторы на вашым кампутары. Але вы можаце мець 4 гігабайты, або 64 гігабайта, па парадку велічыні, фактар 1000 менш, аператыўнай памяці ў вашым кампутары. Такім чынам, што ж кампутар рабіць? Ну, выкажам здагадку, што вы сапраўды ёсць 64 гігабайт аператыўнай памяці ў сэрвэры, як гэта, што будзе даволі распаўсюджанай з'явай, калі б не нізкая у гэтыя дні. Але выкажам здагадку, што ў вас ёсць так шмат карыстальнікі робяць так шмат рэчаў што вы, здаецца, свайго роду спатрэбіцца 65 гігабайт памяці апрацоўваць усё, што адначасовае выкарыстанне? 

Ну, вы маглі б проста сказаць, На жаль, некаторая колькасць карыстальнікаў проста не можа атрымаць доступ да сайта. І гэта ёсць мера у крайнім выпадку, вядома ж. Ці, у якасці аперацыйнай сістэмы, як Windows, Mac або OS або Linux ці Solaris або любы шэраг іншых аперацыйных сістэм на гэтым сэрвэры, можа проста вырашыць, вы ведаеце, што? У мяне ёсць толькі 64 гігабайт аператыўнай памяці. Я як бы трэба 65. Такім чынам, вы ведаеце, што? Я збіраюся ўзяць 1 гігабайт варта дадзеных у аператыўнай памяці які быў найменш нядаўна звярталіся і проста перанесьці яго на дыск часова, літаральна скапіяваць яго з пасады памяць з павальнейшай памяццю так што я магу справіцца з гэтым, то 65-е неабходна гігабайтны для памяці, зрабіць некаторыя вылічэнні на ім. Потым, калі я зрабіў гэта рабіць, Я буду проста рухацца, што на дыск, перамясціць гэтую іншую аператыўную памяць я часова пакласці на дыску назад у рэальным абсталяванні так што я ўжо крыху шматзадачнасці. 

Так што я свайго роду навядзенне часова знаходзяцца ў гэтай прасторы павольней, таму я ствараю ілюзію апрацоўкі ўсіх. Але ёсць запаволенне. Чаму? Ну, унутры іх цяжка дыскі ў гэтыя дні ёсць што? Хутчэй за ўсё, што робіць жорсткі дыск адрозніваецца ад RAM як лепш цяпер вы ведаеце? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Добра, праўда. ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так вельмі дакладна. І гэта пабочны эфект або функцыю той факт, што памяць сапраўды хутчэй. І таму вы хочаце выкарыстоўваць яго для бягучага выкарыстання. І дыск больш павольна. Але гэта пастаяннае, ці энерганезалежным. Такім чынам, вы выкарыстоўваеце яго для працяглага захоўвання. Але з пункту гледжання рэалізацыя, калі я гляджу ўверх што называецца модуль DIMM, Двухрадковы памяці Модуль, гэта тое, што частка аператыўнай памяці звычайна можа выглядаць наступным чынам. 

Так што ўнутры нашага Mac--, што гэта памылка. Ўнутры нашых Макаў і ПК, нашы настольныя кампутары будуць мець палкі памяці, як вы маглі б назваць іх, або модулі DIMM або SIMMs назад у той жа дзень, памяці што выглядаць наступным чынам. Нашы ноўтбукі, верагодна, ёсць рэчы, якія з'яўляюцца трэцім памерам або палову памеру. Яны крыху менш, але той жа самы маленькі idea-- кавалачкі зялёнага крэмнія вафельныя або пластыка, мае маленькія чорныя фішкі на іх з вялікім правадоў ўзаемнага злучэння ўсё. Вы можаце мець цэлую кучу яны ўнутры вашага кампутара. Але вынас тут гэта цалкам электронная. Там проста электроны працякаючая на гэтай прыладзе. У супрацьлегласць гэтаму, калі мы паглядзім на ўнутры жорсткага дыска і пацягнуць уверх карціну тут, вы б замест таго, каб ўбачыць нешта накшталт гэтага, які робіць электрычнасць прайшоўшы праз яго, у канчатковым рахунку. Але што ж выскоквае у вас аб гэтай рэчы? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Так, ёсць па-відаць, якія рухаюцца частак. Гэта накшталт як старога запісу гулец або гулец фанограф. І гэта ў значнай ступені гэта. Гэта крыху вынаходлівыя за that-- у той час як фанограф выкарыстоўванага прайгравальніка канаўкамі ў запісе, гэта на самай справе выкарыстоўвае малюсенькія магнітныя часціцы што мы не можам бачыць зусім. Але калі крыху магнітнай часціцы выглядае наступным чынам, гэта лічыцца 1. І калі гэта выглядае так, з поўначы на ​​поўдзень, а не на паўднёвым поўнач, гэта можа быць 0. І мы ўбачым заўтра, як мы можам пабудаваць ад больш цікавых рэчаў. 

Але ўсё гэта павінен фізічна перамясціць , Безумоўна, будзе ісці больш павольна, чым хуткасць святла, якая ў тэорыі з'яўляецца тое, што электрон можа працякаць у, хоць рэальна не зусім. Таму механічнае devices-- значна больш павольна. Але яны танней. І вы можаце прыстасоўваць так шмат больш дадзеных ўнутры іх. Таму той факт, што існуе ў свеце што-то называецца віртуальнай памяці, пры выкарыстанні жорсткага дыска, як гэта як быццам гэта было RAM празрыстым для карыстальніка, проста шляхам перамяшчэння дадзеных з аператыўнай памяці на жорсткі дыск, затым перамясціць яго назад, калі вам трэба ён зноў стварае запаволенне. Таму што вы ў літаральным сэнсе прыйдзецца скапіяваць яго з аднаго месца ў іншае. І справа вы капіруеце яго, а ад фактычна павольней, чым АЗП дзе вы хочаце быць. 

Альтэрнатыўнае рашэнне here-- калі вам не падабаецца, што замарудзіць, і ваша віртуальная памяць свайго роду быць перагружаная, што іншае рашэнне гэтай праблемы? 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Ну, павелічэнне віртуальнай памяці дазволіць нам зрабіць гэта на яшчэ большы маштаб. Мы маглі б справіцца з 66 гігабайтамі варта патрэбаў ў памяці, або 67 гігабайт. Але выкажам здагадку, што мне не падабаецца гэта запаволенне, на самай справе Я хачу, каб адключыць віртуальны памяць, калі гэта ўвогуле магчыма, што яшчэ я мог кінуць на гэтую праблему вырашыць, дзе я хачу, каб апрацоўваць большую колькасць карыстальнікаў і больш патрабаванні да памяці чым я фізічна ёсць на дадзены момант? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: На жаль, няма. Такім чынам, працэсар і ядра яны ў гэты канчатковы рэсурс. І няма ніякага аналагавага ў гэтым кантэксце. Добры пытанне, хоць. Так проста быць ясна, таксама, калі ўнутры гэтага кампутара, скажам, палка памяці, якая выглядае як this-- і так мы будзем называць гэтую памяць. І тут гэта жорсткі дыск. І я проста зрабіць гэта выяўленча як маленькі круг. Ёсць 0 і 1. У абодвух these-- дадзеныя, мы абагульнім яго як. 

І па сутнасці справы, калі карыстальнік запуск прыкладання, як, скажам, вэб-сайт, які патрабуе гэта аб'ём аператыўнай памяці для кожнага карыстальніка, што я прапаную, шляхам гэтай рэчы называецца віртуальнай памяці, гэта проста часова перамясціць што тут, так што зараз я можа перамясціць памяць кагосьці іншага Патрабаванні там. І тады, калі гэта будзе зроблена, Я магу скапіяваць гэта назад на і гэта ідзе тут, тым самым перамяшчаючы што я хацеў там дзе-небудзь яшчэ ў цэлым. 

Такім чынам, ёсць проста шмат Switcheroo, з'яўляецца вынас тут. Так што, калі вам не падабаецца гэта, і вы гэтага не зробіце хачу паставіць што-небудзь на цвёрдым дыску, нешта відавочнае Рашэнне бізнес чалавека да праблемы, ці інжынера рашэнне, калі на тое пайшло, таксама? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, я маю на ўвазе ў літаральным сэнсе кідаць грошы на гэтую праблему. І на самай справе, гэта ідэальны непасрэдна перайсці да некаторых з больш высокага ўзроўню абмеркаванне хмарных вылічэнняў. Таму што шмат што з гэтага матывуецца фінансавымі рашэннямі, нават не абавязкова тэхналагічныя. Калі 64 гігабайтамі аператыўнай памяці занадта мала, ну, чаму б не атрымаць 128 гігабайт аператыўнай памяці? Чаму б не атрымаць 256 гігабайт аператыўнай памяці? Ну, чаму б і не? 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Ну, каштуе больш грошай, вядома. А калі ў вас ужо ёсць запасны прасторы на цвёрдым дыску, эфектыўна, або, што эквівалентна, прастору на цвёрдым дыску так значна танней, вы можаце таксама выкарыстоўваць яго. Такім чынам, яшчэ раз, ёсць такі кампраміс, што мы ўбачылі яшчэ раней гэтай раніцай, дзе ёсць на самой справе не абавязкова правільны адказ, там проста лепш ці горш адказ заснаваныя на тым, што вы на самай справе хвалюе. 

Такім чынам, ёсць таксама тэхналагічныя рэаліі. Я не магу купіць кампутар, Наколькі мне вядома, з трыльён гігабайт АЗП прама цяпер. Ён проста фізічна не існуе. Так што ёсць некаторая верхняя мяжа. Але калі вы калі-небудзь нават рабіў пакупкі для спажыўцоў Mac ці PC, таксама, як правіла, ёсць гэтая крывая асаблівасцяў дзе можа быць добрым, лепш, а лепшы кампутар. 

І маргінальныя вяртаецца на ваш долар пакупкі лепшы кампутар у параўнанні з тым лепш кампутар не можа быць гэтак жа высокім а марнаваць крыху больш грошай і атрымаць лепшы кампутар за добры кампутар. Іншымі словамі, вы плаціце прэміі, каб атрымаць верхняй часткі лініі. 

І тое, што мы ўбачым у абмеркаванне хмарных вылічэнняў гэта тое, што вельмі часта гэтыя дзён, а таксама тое, што такія кампаніі, як Google рана папулярызаваў, не звяртала для і будаўніцтва сапраўды фантазіі, дорага новаспечаным да кампутараў з шмат і шмат усяго, а купляць або будаваць даволі сціплыя кампутары, але многія з іх, і выкарыстоўваючы тое, што гэта ў цэлым называецца гарызантальнае маштабаванне замест слаба маштабавання. 

Такім чынам, вертыкальнае маштабаванне азначала б атрымаць больш RAM, больш дыскавай, больш за ўсё, і як бы інвеставаць вертыкальна ў вашым абсталяванні так што вы проста атрыманне лепшыя з лепшых з лепшых, але вы плаціце за гэта. Гарызантальнае маштабаванне выгляд атрымаць ніжні ярус рэчы, добрая мадэль, ці нават горш, мадэль, але атрымаць іх шмат. Але як толькі вы атрымаеце шмат them--, напрыклад, у дадзеным выпадку, вэб-серверы, калі гэты сервер або адзін вэб-хостынгу з'яўляецца недастатковым, то проста інтуітыўна, то Рашэнне гэтай праблемы нагрузкі або перагрузкі на серверах альбо атрымаць большы сервер або, што я прапаную тут замест таго, каб маштабавання па вертыкалі, так бы мовіць, будзе, вы ведаеце, што? Проста атрымаць другі адзін з іх. Ці, можа быць, нават атрымаць трэці. Але цяпер мы стварылі інжынерная праблема па сваёй прыродзе гэтага бізнэсу або фінансавае рашэнне. Што інжынерная праблема зараз? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, як вы падлучаеце іх и-- шкада? 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: справа, таму што я да гэтага часу have-- калі я ізноў увесці мяне ў гэтую карціну, калі гэта мой ноўтбук дзесьці ў Інтэрнэце, які цяпер знаходзіцца паміж я і кампанія, мы гаворым пра тое, Цяпер я сёння павінен знайсці, да якога сервер я магу адправіць гэты канкрэтнага карыстальніка? І калі ёсць іншыя карыстальнікі, як гэта, і затым гэты адзін тут, і, магчыма, гэта карыстальнік А, гэта з'яўляецца карыстальнік У, гэта карыстальнік С, і гэта сервер 1, 2, і ў цяперашні час 3-- інтуітыўны адказ можа быць толькі тут, мы будзем пасылаць карыстачу A 1 і В 2 і З 3. І мы можам апрацоўваць 3 разы больш карыстальнікаў. 

Але гэта спрашчэннем. Як вы вырашаеце, каго паслаць дзе? Дык давайце паспрабуем разважаць праз гэта. Так выкажам здагадку, што кампутары А, У, і С з'яўляюцца кліенты, і серверы 1, 2 і 3 з'яўляюцца гарызантальна маштабуецца сервераў. Так яны накшталт ідэнтычныя. Яны ўсё выкарыстоўваюць той жа праграмнае забеспячэнне. І ўсе яны могуць зрабіць тое ж самае. Але прычына ў нас ёсць тры з іх так што мы можам справіцца з трыма разоў больш людзей адразу. 

Такім чынам, мы ведаем з нашага абмеркаванне да абеду што ёсць апаратная паміж ноўтбукі і серверы. Але мы проста свайго роду абагульнення што ў цяперашні час у Інтэрнэце або ў воблаку. Але мы ведаем, што ў маім доме, ёсць, верагодна, хатні маршрутызатар. Побач з серверамі, там, напэўна, маршрутызатар, DNS-сервер, DHCP. Там можа быць што заўгодна мы хочам, каб у гэтай гісторыі. 

Дык як жа мы пачынаем вырашаць, калі карыстальнік А пераходзіць у something.com, якое сервер для маршрутызацыі карыстачу? Як мы маглі б пачаць распавядаць гэтую гісторыю? ГЛЕДАЧЫ: балансіроўка нагрузкі? DAVID Малання: балансіроўка нагрузкі. Што вы маеце на ўвазе пад гэтым? 

ГЛЕДАЧЫ: Вяртанне дзе найбольш выкарыстанне з'яўляецца і які з іх мае большасць наяўных рэсурсаў. DAVID Малання: Добра, так што дазвольце мне ўвесці новы тып апаратнага забеспячэння што мы яшчэ не абмяркоўвалі, што гэта менавіта тое, балансавання нагрузкі. Гэта таксама можа быць проста серверам. Гэта можа выглядаць гэтак жа, як той, які мы бачылі хвіліну таму. Балансавання нагрузкі на самай справе проста кавалак праграмнага забеспячэння што вы запускаеце на часткі апаратных сродкаў. 

Ці ж вы можаце заплаціць пастаўшчыку, як Citrix або іншыя, Cisco або іншыя. Вы можаце заплаціць за іх уласных апаратных сродках, які з'яўляецца кампенсатарам нагрузкі абсталявання. Але гэта проста азначае, што яны папярэдне ўсталяванай балансаванне нагрузкі праграмнае забеспячэнне на сваіх апаратных і прадаў яго да вас усё разам. Так што мы проста зрабіць гэта як прастакутнік для нашых мэтаў. 

Як жа цяпер мне рэалізаваць балансавання нагрузкі? Іншымі словамі, калі карыстальнік А хоча наведаць мой сайт, іх запыт неяк ці іншай, верагодна, шляхам тых, Маршрутызатары пра якія мы гаварылі раней, збіраецца ў рэшце рэшт дасягне гэта кампенсатар нагрузкі, які затым неабходна зрабіць маршрутызацыі тыпу рашэння. Але гэта для маршрутызацыі роду больш высокай мэты ў цяперашні час. Гэта не толькі аб атрыманні ад пункту А да пункту B. Гаворка ідзе пра рашэнне, якое Кропка B з'яўляецца лепшым сярод them-- 1, 2, ці 3, у дадзеным выпадку. 

Дык як жа я вырашыць, ці варта каб перайсці да 1, 2, 3? Што можа гэты чорны скрыню, так кажуць, рабіць на ўнутранай? Гэта таксама з'яўляецца яшчэ адным прыкладам у інфарматыка абстракцыі. Я літаральна намалявалі балансавання нагрузкі як чорны скрыню чорнымі чарніламі, ўнутры з якіх некаторыя цікавыя Логіка, ці магія, нават, з якіх павінен прыйсці decision-- 1, 2, ці 3. І уваход толькі А. 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Я шкадую? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Добра, як мы маглі б класіфікаваць віды аперацый тут? 

ГЛЕДАЧЫ: Прагляд вэб-старонкі у параўнанні з запытамі да базы дадзеных. DAVID Малання: Добра, гэта добра. Так можа быць, гэты карыстальнік А хоча праглядаць вэб-старонкі. А можа быць, гэта нават статычны кантэнт, тое, што мяняецца рэдка, калі калі-небудзь. І гэта здаецца даволі простая аперацыя. Так што, можа быць, мы проста адвольна, але разумна, скажам, сервер 1, яго мэта ў жыцці проста абслугоўваць да статычнага кантэнту, файлы, якія рэдка, калі калі-небудзь, змяніць. Можа быць, гэта малюнка на старонцы. Можа быць, гэта тэкст на старонцы або іншага такога роду нецікавых рэчаў, нічога не транзакцыйнай, нічога дынамічнага. 

У адрозненне ад гэтага, калі карыстальнік А правярае з яго ці яе кошыку, што патрабуецца база дадзеных, дзесьці захоўваць і памятайце, што здзелкі, а магчыма, што запыт павінны перайсці да сервера 2. Так што гэта добра. Такім чынам, мы можам загрузіць на аснове балансу ад тыпу запытаў. Як яшчэ мы маглі б гэта зрабіць? што other-- 

ГЛЕДАЧЫ: На аснове сервера выкарыстання і магутнасці. DAVID Малання: справа, ОК. Такім чынам, вы згадалі, што раней, Kareem. Так што, калі мы забяспечваем некаторы ўклад на [неразборліва] сярод сервераў 1, 2, і 3 да гэтай балансавання нагрузкі такім чынам, што яны проста пастаянна інфармуючы выраўноўвальнік нагрузкі які іх статус? Як, эй, балансавання нагрузкі, Я на 50% ўтылізацыі. Іншымі словамі, у мяне ёсць удвая менш, многія карыстальнікі як я магу на самой справе апрацоўваць прама цяпер. Эй, кампенсатар нагрузкі, я пры 100% ўтылізацыі. Эй, кампенсатар нагрузкі, 0% выкарыстанне. Балансавання нагрузкі, калі гэта сканструяваныя такім чынам, што можа прыняць у гэтых каментарах у якасці ўваходных дадзеных, ён можа вырашыць, ох, нумар 2 на 100%. Дазвольце мне прыслаць не будучыя запыты да яго акрамя карыстальнікаў ўжо падлучаныя. Гэты хлопец на 0%. Давайце пашлем шмат трафіку да яго. Гэты хлопец сказаў, што ён на 50%. Давайце пашлем некаторы рух да яго. 

Такім чынам, гэта было б адным з кампанентаў, які мы маглі б прыняць да ўвагі нагрузку. І гэта будзе мяняцца з цягам часу. Такім чынам, рашэнні будуць мяняцца. Так што гэта сапраўды добрая тэхніка, той, які звычайна выкарыстоўваецца. Што яшчэ мы можам зрабіць? І давайце на самай справе проста сумаваць тут. Такім чынам, рашэнні тут можа быць па тыпу трафіку, я буду называць яго. Ён можа быць у залежнасці ад нагрузкі. Давайце паглядзім, калі мы не можам прыдумаць некалькі іншых. 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Месцазнаходжанне. Так што гэта добры. Так як месца расположения-- вы маглі б выкарыстоўваць гэтую інфармацыю? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: О, гэта добра. І пра тое, колькі мілісекунд б яна паменшыцца на на аснове таго, што мы ўбачылі ў гэтым раніцу б вы сказалі? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Ну, на аснове на следовых маршрутаў мы бачылі раней, што гэта проста грубая мера чагосьці, па меншай меры, колькі часу патрабуецца для дадзеных, каб атрымаць ад А да Б адчувае, як што-небудзь мясцовым было, што, як 74 мілісекунд, даваць ці прымаць? А потым што-небудзь 100 плюс, 200 плюс быў, верагодна, за мяжой. І вось на аснове гэтага ў адзіночку, ўяўляецца разумным выказаць здагадку, што для карыстальніка ў ЗША каб атрымаць доступ да Еўрапейскага серверу можа заняць два ці тры разы да таго часу, нават у мілісекундах, чым ён мог бы прыняць, калі гэта Сервер былі размешчаны тут геаграфічна, ці наадварот. Таму, калі я прапанаваў раней, што асабліва Як толькі вы перасякае, што 200 мілісекунду Парог, даваць ці прымаць, людзі сапраўды пачынаюць заўважаць. І маршрут трасы проста мяркуючы, сырыя, нецікавыя дадзеныя. Калі ў вас ёсць вэб-сайт, вы павінны атрымаць карыстальнік пры загрузцы малюнкаў або кіно файлы, шмат тэксту, наступныя запыты. Мы бачылі, калі мы наведалі, што было гэта, Facebook або Amazon раней, ёсць цэлы шмат рэчаў які павінен быць загружаны. Так што збіраецца скласці. Так мульты-секунд можа ня неразумна. Так добра, геаграфіі з'яўляецца адным з кампанентаў. Так што на самой справе такіх кампаній, як Akamai, калі вы чулі пра іх, або іншыя ўжо даўно прынятыя геаграфія пад увагу. І атрымліваецца, што па сваёй прыродзе IP-адрас, IP-адрас майго наўтбука, вы можаце зрабіць выснову, з некаторай верагоднасцю, дзе вы знаходзіцеся ў свеце. І на самай справе ёсць паслугі трэціх бакоў, можа аплаціць якія падтрымліваюць базы дадзеных па IP-адрасоў і геаграфічных рэгіёнаў што з высокай упэўненасцю будзе праўда, калі яго спыталі, дзе ў свеце гэта IP-адрас? 

І так, што на самой справе іншыя кампаніі выкарыстоўваюць гэта? Калі ў вас ёсць Hulu або Netflix калі Вы калі-небудзь падарожнічаў за мяжой, і вы спрабуеце нешта глядзець на Hulu, і вы не ў ЗША, вы можаце ўбачыць паведамленне кажучы, не ў ЗША. На жаль, вы не можаце ўбачыць гэта. 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: О, на самай справе? Але так, так што на самой справе гэта ідэальнае дадатак чагосьці вельмі тэхнічны актуальнай праблеме. Калі вы павінны былі VPN ад Еўропе ці Азіі ці дзе-небудзь у свеце да карпаратыўнай Штаб-кватэра ў Нью-Ёрку ці там, дзе вы знаходзіцеся, вы збіраецца стварыць бачнасць на знешнія вэб-сайты, вы на самой справе ў Нью-Ёрку, нават калі вы фізічна даволі далёка. 

Цяпер вы карыстальнік збіраецеся ведаю, што вы, відавочна, далёка. Але вы таксама будзеце адчуваць сябе, таму што з гэтых дадатковых мілісекунд. Гэта дадатковае адлегласць і шыфравання, што адбываецца ў VPN збіраецца запаволіць ход падзей. Такім чынам, ён можа ці не можа вялікі вопыт. Але Hulu і Netflix збіраюцца, каб убачыць Вы, як седзячы дзе-небудзь у Нью-Ёрку, як вы выразна падбірала. Што ідэальнае рашэнне для гэтага. 

Добра, так што геаграфія адно рашэнне. Што яшчэ мы маглі б выкарыстоўваць, каб вырашыць, як для маршрутызацыі трафіку з A, B, і C 1, 2 і 3, зноў жа, паклаўшы інжынерны капялюш на? Усё гэта гучыць вельмі складана. Э-э, я нават не ведаю, дзе прыступіць да выканання тых. Дайце мне што-небудзь прасцей. Што гэта самы просты спосаб каб прыняць гэтае рашэнне? 

ГЛЕДАЧЫ: Ці з'яўляецца сервер даступны? 

DAVID Малання: Ці з'яўляецца сервер даступны? Так што не дрэнна. Гэта добра. Гэта свайго роду нюансирования нагрузкі. Так што давайце трымаць, што ў катэгорыі нагрузкі. Калі вы даступныя, я проста збіраецца адправіць дадзеныя там. Але гэта можа прывесці да адваротных хутка. Таму што, калі я выкарыстоўваю гэтую логіку, і калі я заўсёды пытаюцца 1, кім вы, кім вы, кім вы, калі адказ заўсёды так, Я збіраюся адправіць 100% трафіку да яго, 0% для ўсіх астатніх. І ў нейкі момант, мы збіраемся ударыць што запаволенне ці сайт недаступны. Так што трохі лепш, чым што, але ўсё яшчэ даволі проста і хай не палічыць гэтак жа разумная, як прымаць усе гэтыя дадатковыя дадзеныя пад увагу? 

ГЛЕДАЧЫ: Кошт кожнага сервера. DAVID Малання: Кошт на серверы. ОК, так што дазвольце мне кінуць, што у катэгорыі нагрузкі таксама. Таму што вы знойдзеце ў кампанія, too--, што калі вы абнавіць серверы з цягам часу ці купіць больш, Вы не маглі б быць у стане атрымаць дакладна аднолькавыя версіі апаратнага забеспячэння. Таму што яна выпадае з даты. Вы не можаце купіць яго больш. Цэны змяняюцца. 

Такім чынам, вы можаце мець разнастайныя серверы у кластары, так бы мовіць. Гэта цалкам нармальна. Але апаратнае забеспячэнне ў наступным годзе можа быць у два разы хутчэй, у два разы здольныя, як сёлета. Такім чынам, мы можам кінуць, што у катэгорыю нагрузкі. Гэтая пятля зваротнай сувязі паміж 1, 2 і 3 у балансавання нагрузкі безумоўна, можа сказаць яму, эй, я на 50% магутнасці. Але, дарэчы, я таксама маюць у два разы больш ядраў. Выкарыстоўвайце гэтую інфармацыю. Нават simpler-- і гэта адбываецца каб быць тэмай у інфарматыцы. Калі ёсць сумневы, ці калі вы хочаце просты рашэнне, якое ў цэлым працуе добра на працягу доўгага часу, не выбіраюць той жа сервер ўвесь час, але выберите-- 

ГЛЕДАЧЫ: выпадковы адзін? DAVID Малання: --a выпадковы сервер. Ды, выбраць адну ці іншы бок. Так што на самай справе хаатычнай гэта вельмі магутны кампанент у інфарматыцы, і ў машынабудаванні больш як правіла, асабліва калі вы хочаце каб зрабіць простае рашэнне хутка не ўскладняючы яго з усімі з іх вельмі разумны, але і вельмі разумныя, рашэнні, якія патрабуюць ўсё больш інжынерныя, усё тым больш думка, калі на самай справе, чаму не я толькі збольшага манетку, або трохбаковы манета ў дадзеным выпадку, і вырашыць, ці варта ісці 1, 2, 3? 

Гэта можа мець непрыемныя наступствы імавернасна, але гэтак жа, як шанцы з зноў гартаць галавы і зноў і зноў і зноў і зноў і зноў магчыма ў reality-- супер, супер малаверагодна. Такім чынам, з цягам часу, шанцы проста адпраўка карыстальнікаў у выпадковым парадку у 1, 2, і 3 будзе адпрацоўваць выдатна. І гэта тэхніка як правіла, вядомы як круговике. 

Ці на самай справе, гэта не па кругавой сістэме. Гэта было б выпадковы падыход. І калі вы хочаце быць нават трохі прасцей, чым гэта, Кругавая сістэма будзе, першы чалавек ідзе 1, другі чалавек 2, трэцяя асоба 3, чацвёрты чалавек на 1. І ў гэтым заключаецца круглы робін. Вы проста выгляд ісці вакол у цыкле. 

Зараз, вы павінны быць разумнымі пра гэта. Вы не павінны слепа адправіць карыстачу сервер нумар адзін, калі ў чым справа? Калі гэта пры максімальнай магутнасці, або Ці не гэта проста больш не рэагуе. Так што ў ідэале вы хочаце, каб некаторыя выгляд ланцугу зваротнай сувязі. У адваротным выпадку, вы проста адправіць ўсе вашых карыстальнікаў у тупік. Але гэта можа быць прынята пад увагу, таксама. 

Так што не пад ацаніць значэнне проста выпадковасць, што даволі часта рашэнне такога роду праблем. І мы будзем запісваць кругавой. Так як некаторыя кампаніі рэалізуюць Кругавая сістэма або хаатычнай або любое з гэтых рашэнняў? Ну, на жаль, яны рабіць такія рэчы. Дазвольце мне падцягнуць яшчэ адзін хуткі здымак экрана. 

На самай справе, давайце зробім два. Я не ведаю, чаму мы атрымліваць усе з гэтых страў. Гэта вельмі дзіўна. Добра, што я на самой справе хачу гэта скрыншот. Гэта дзіўна. Добра, так што я магу падрабіць гэта. Я не ведаю, колькі яшчэ Я хачу, каб трымаць скролінг. 

Так што вельмі часта, вы апынецеся па адрасе, як www.2.acme.com, можа быць, www.3 ці 4 ці 5. І сачыць за гэтым. Вы не бачыце яго, што часта. Але калі вы робіце, гэта свайго роду, як правіла, будзе больш, больш старыя, stodgier кампаніі што тэхналагічна не вельмі здаецца, ведаюць, што яны робяць. І вы бачыце гэта на тэхналагічных кампаній часам, старэйшыя. 

Так што ж яны робяць? Як яны рэалізацыі балансіроўка нагрузкі, будзе гэта здавацца? Калі вы знайшлі сябе ў якасці Карыстальнік набраўшы www.something.com, і раптам вы ў www.2.something.com, тое, што мае сваю нагрузку балансір, верагодна, зроблена? ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, так балансавання нагрузкі меркавана прыняцце рашэння на аснове аднаго з гэта прыняцце рашэнняў processes-- на самай справе не мае значэння, які. Але гэтак жа, як я намаляваны Лічбы на борце тут, серверы не проста называецца 1, 2 і 3. Яны, верагодна, называецца www1, www2, www3. І атрымліваецца, што ўнутры HTTP-запыт гэтая асаблівасць. І я збіраюся змадэляваць гэта наступным чынам. 

Я збіраюся адкрыць той жа Ўкладка дэвелаперская сетку, як і перш за ўсё такім чынам, мы можам бачыць, што адбываецца на пад капотам. Я збіраюся ачысціць экран. І я збіраюся ісці, давайце кажуць, http://harvard.edu. Цяпер для любой бізнес-прычыны, Harvard вырашыў, як і многія іншыя, многія іншыя вэб-сайты, стандартаваць яго вэб-сайт па www.harvard.edu для тэхнічных і маркетынгавых меркаванняў. Гэта проста выгляд у Модзе мець WWW. 

Такім чынам, сервер мае ў Гарвардзе каб неяк перанакіраваць карыстальніка, як я працягваю казаць, ад адзін URL на іншы. Як гэта працуе? Што ж, дазвольце мне ісці наперад і націсніце клавішу Увод. І звярніце ўвагу на URL сапраўды хутка зменена на www.harvard.edu. Дазвольце мне пракруціць таму ў гэтым гісторыя і націсніце на гэтую адладжваць дыягнастычная інфармацыя, калі вы будзеце. Дазвольце мне зірнуць на маю просьбу. 

Дык вось запыт, які я зрабіў. І заўважце, што гэта адпавядае з выглядам запыту я зрабіў Facebook раней. Але зьвярніце ўвагу на рэакцыю. Што змянілася ў адказ на гэты раз? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, так што гэта не 200 OK. Гэта не 404 Not Found. Гэта 301 Moved Пастаянна, які гэта свайго роду пацешны спосаб сказаць, Harvard павысіў і пераехаў у іншым месцы www.harvard.edu. 301 азначае, што гэта рэдырэкт. І дзе калі карыстальнік па-відаць, быць перанакіраваны? Там у дадатковы прынадны кавалачак інфармацыя ўнутры гэтага канверта. І кожная з гэтых ліній цяпер будзе пачаць называць загаловак HTTP. Загаловак проста ключавое значэнне pair-- што-небудзь што-то двукроп'е. Гэта частка інфармацыі. Дзе варта новы Адкуль, па-відаць быць? Звярніце ўвагу на апошнюю радок сярод усіх гэтых загалоўкаў. 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, так што ёсць дадатковая інфармацыя. Першы радок, што я вылучыў кажа 301 Moved пастаянна. Ну, дзе ён пераехаў? Апошняе line-- і яны гэтага не робяць павінны быць у такім парадку. Гэта можа быць выпадковым. Размяшчэнне тоўстай кішкі азначае, эй браўзэр, перайдзіце на гэты URL замест. 

Так браўзэры разумеюць HTTP перанакіроўвае. І гэта вельмі, вельмі распаўсюджаны спосаб падскокваючы карыстальнік з аднаго месца ў іншае. Напрыклад, калі вы калі-небудзь спрабавалі наведаць вэб-сайт, які вы не увайшоў у, вы можаце нечакана знайсці сябе на новым URL наогул быць будзе прапанавана ўвайсці ў сістэму. 

Як гэта працуе? Сервер, верагодна, адпраўляючы 301. Там таксама іншыя нумары, як 302, некалькі адрозніваецца па сэнсе, што адправіць вас на іншы URL. А потым сервер, як толькі вы ўвайшлі ў сістэму, адправіць вас туды, дзе вы на самай справе прызначаныя. 

Так што, то, дрэнна сканструяваныя сайты рабіць? Калі вы наведваеце www.acme.com, і яны проста здараецца, назвалі сваіх сервераў www1, www2, www3, і гэтак далей, яны вельмі simply-- якая з'яўляецца справядлівай, але вельмі свайго роду foolishly-- перанакіроўваць вас на самай справе па-іншаму з імем сервера. І гэта працуе выдатна. Гэта прыемна і лёгка. 

Мы бачылі, як гэта было б зроблена пад капотам ў віртуальнай канверце. Але чаму гэта магчыма, з'яўляецца дрэннае інжынернае рашэнне? І чаму я накшталт паблажлівага да гэтай канкрэтнай тэхнікі падыходзіць? Сцвярджаюць, чаму гэта дрэнна. Бэн? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Кожны сервер павінен будзе ёсць дублікат сайта. Я ў парадку з гэтым. І на самай справе, гэта тое, што я выкажам здагадку, для ўсёй гэтай гісторыі, бо калі мы wanted-- добра на самай справе, для Дана раней, за выключэннем Прапанова, дзе калі ў вас ёсць розныя серверы рабіць розныя рэчы, то можа быць, яны маглі б быць на самой справе функцыянальна рабіць розныя рэчы. 

Але нават тады, у нейкі момант, ваш базы дадзеных збіраецца атрымаць перагружаныя. Сервер статычныя актывы збіраецца атрымаць перагружаныя. Так што ў нейкі момант, мы таму ў гэтай гісторыі, дзе мы неабходна мець некалькі копій аднаго і таго ж. Так што я ў парадку з гэтым. ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: ОК, так што некаторыя старонкі можа быць непрапарцыйна папулярным. І так замацоўвае на адзін адрас не абавязкова самае лепшае. [Неразборліва]? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Што вы маеце на ўвазе пад гэтым? ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, дакладна. Такім чынам, вы не хочаце абавязкова have-- вас, вядома, не хочаце, каб вашыя карыстальнікі ўручную ўводзіць у www1 або www2. З пункту гледжання брэндынгу, яго проста выглядае крыху смешна. Калі вы проста хочаце свайго роду чысты, элегантны вопыт, маючы гэтыя роду выпадковым чынам пронумерованные URL-адрасы на самай справе не вельмі добра. Таму што тады карыстальнікі, безумоўна, збіраецца капіяваць і ўстаўляць іх ў паведамленні электроннай пошты ці імгненныя паведамленні. 

Цяпер яны якая распаўсюджваецца. Цяпер вы свайго роду заблытаным СВОЙ менш тэхнічна аўдыторыі, хто думае Ваш вэб-адрас www2.something.com. Там няма пераканаўчых семантыкі гэтага. Гэта як раз здараецца быць асноўнай тэхнічная дэталь, што вы маеце пранумараваны серверы такім чынам. 

І яшчэ горш, што, калі, напрыклад, можа быць, падчас калядных святаў калі гэта бізнэс сапраўды квітнее, вы атрымалі www1 праз www99, але ў студзені і лютым і наперад, вы выключаеце палову тых, таму ў вас ёсць толькі www1 праз www50? Што маецца на ўвазе цяпер, што вельмі разумнае рашэнне бізнэс? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Вам трэба кіраваць усімі тымі, да гэтага часу. ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Вы маеце рацыю. Гэта свайго роду ўлову там. Калі вашы кліенты знаходзяцца ў звычку закладак рэчы, адпраўкі па электроннай пошце іх, проста захавання URL дзе-небудзь, або калі гэта толькі ў іх аўто завяршыць у свой браўзэр такім чынам, яны на самай справе не наўмысна ўводзіць яго, гэта проста адбываецца, яны маглі б, за 11 месяцаў у годзе эфектыўна, дасягаюць у тупік. І толькі самыя праніклівыя з карыстальнікі збіраецца рэалізаваць, Магчыма, я павінен ўручную выдаліць гэты нумар. Я маю на ўвазе, гэта проста не адбудзецца з вялікай колькасцю карыстальнікаў, так што дрэнна для бізнесу, дрэнная інжынерная рэалізацыя мудрым. 

Так, на шчасце, гэта не трэба. Аказваецца, што балансіры нагрузка можа зрабіць гэта замест таго, каб гаварыць, калі А робіць request-- эй, перайсці да 1. Іншымі словамі, замест таго, каб адпраўкі якія перанакіроўваюць такім чынам, што першы крок у гэтым Працэс з'яўляецца ідзі сюды, ён тады сказаў, каб пайсці ў іншым месцы. І так крок тры гэта, ён ідзе ў іншым месцы. 

Замест гэтага вы можаце працягваць маршрут, каб працягваць выкарыстоўваць гэты тэрмін, усе дадзеныя А ў праз балансавання нагрузкі такім чынам, каб ён ніколі не кантакты 1, 2, ці 3 непасрэдна. Ўвесь трафік сапраўды атрымлівае "разграмілі" балансавання нагрузкі на сябе. І вось зараз мы накшталт наўмысна размывае лініі сярод гэтых розных прылад. Балансировщик нагрузкі можа дадзеных маршруту. Гэта проста функцыя, якую яна мае. 

Такім чынам, балансавання нагрузкі, таксама, гэта частка праграмнага забеспячэння, на самай справе. І маршрутызатар з'яўляецца часткай праграмнага забеспячэння. І вы можаце абсалютна мець дзве часткі праграмнага забеспячэння ўнутры аднаго фізічнага кампутара таму нагрузкі балансір можа зрабіць гэтыя некалькі рэчаў. 

Такім чынам, ёсць яшчэ адзін спосаб каб зрабіць гэта, які на самай справе ўзыходзіць да свайго роду першых прынцыпаў у DNS, пра які мы казалі да разрыву. DNS была сістэма даменных імёнаў. Памятаеце, што вы можаце запытвае сервер DNS, што IP-адрас google.com, facebook.com? 

І мы сапраўды можам зрабіць гэта. Інструмент мы не выкарыстоўвалі раней, той, які гэтак жа, як даступны, называецца Nslookup, для сервера імёнаў пошуку. І я проста хачу, каб увесці facebook.com. І я бачу, што IP Facebook, адрас, па-відаць гэта. Дазвольце мне ісці наперад і скапіяваць што, перайсці ў браўзэр, і перайсці да HTTP: // і што IP-адрас і націсніце клавішу Enter. І сапраўды, гэта, здаецца, працуе. 

Цяпер працуе ў зваротным кірунку, што было ўнутры віртуальнага канверта што Facebook адказаў, калі Я наведаў, што IP-адрас напрамую? Таму што паведамленне, дзе я цяпер? Дзе я цяпер, адрас? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: У бяспечнай версіі, і на www.facebook.com. Так што гэта нават не проста абаронены IP-адрас. Facebook прыняла на сябе сказаць, што гэта смешна. Мы не будзем трымаць вас у гэтым непрыгожа гледзячы URL гэта лікавы. Мы збіраемся адправіць вам HTTP перанакіраванне з дапамогай таго ж загалоўка што мы ўбачылі before-- Аднекуль тоўстага кішачніка. 

А так гэта проста азначае, што пад капот па-ранейшаму гэты IP-адрас. Кожны кампутар у сетцы Інтэрнэт мае IP-адрас, ён, здавалася б. Але вы не абавязкова павінны выставіць што карыстальніку. І гэтак жа, як яшчэ ў той дзень, там быў 1-800-Collect, 1-800-З-О-Л-Л-Е-С-Т, у ЗША, быў спосаб зрабіць Collect званкі праз вельмі лёгка запамінальнага тэлефон нумар, або 1-800-MATTRESS купіць ложак, і падобныя Мнемоніка, што вы нават бачыце па тэлефоне выгляд роду да гэтага часу, што лісты карта з нумарамі. 

Цяпер, чаму гэта? Ну, гэта нашмат лягчэй запомніць 1-800-MATTRESS або 1-800-Collect замест 1-800-небудзь што-небудзь што-небудзь што-небудзь што-небудзь што-небудзь нешта, дзе кожны з іх з'яўляецца лічбай. Сапраўды гэтак жа, як свет даведаўся хутка, што мы не павінны ёсць людзі, запамінаць IP-адрасы. Гэта было б глупства. Мы будзем выкарыстоўваць імёны замест. І менавіта таму DNS быў народжаны. 

Добра, так і з тым, што, з пункту гледжання балансавання нагрузкі, давайце паспрабуем yahoo.com. Ну, гэта цікава. Yahoo, падобна, вяртаюцца тры IP-адрасы. Так што з гэтага выснову, калі вы маглі б, што такое яшчэ адзін спосаб, які мы маглі б рэалізаваць гэта паняцце балансавання нагрузкі можа быць, нават не выкарыстоўваючы фізічны прылада, гэта новае фізічнае прыладу? 

Іншымі словамі, я магу адняць фінансаванне ў вас ёсць для балансавання нагрузкі і сказаць вам, каб выкарыстоўваць некаторыя існуючыя частка апаратных сродкаў для рэалізацыі гэта паняцце балансавання нагрузкі? А спойлер, так, але што, ці як? Што такое Yahoo, магчыма, тут робіць? Kareem? Добра, Крыс? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Так, усё Тры з гэтых работ. Так што выпадковасцю, Кругавая сістэма, месца расположения-- вы можаце проста выкарыстоўваць існуючы кавалак галаваломкі што мы гаварылі раней аб DNS сістэмы і проста сказаць, калі першы Карыстальнік дня просіць yahoo.com, даць ім першы IP-адрас, як адзін, які сканчаецца ў 45 там. І ў наступны раз, калі карыстальнік запытвае IP-адрас yahoo.com аднекуль ў свеце, даць ім другі IP, затым трэці IP, то першы IP, затым другі. Або быць разумным аб гэтым і зрабіць гэта графічна. Ці гэта выпадкова і не проста рабіць гэта кругавой сістэме ў гэтай модзе. 

І ў гэтым выпадку, то мы нават не трэба каб увесці гэты чорны каробка ў нашу карціну. Нам не трэба новае прылада. Мы проста кажучы кампутары каб перайсці да сервераў наўпрост, эфектыўна, але не шляхам іх імя. Яны ніколі не павінны ведаць імя. Яны проста кажуць, што yahoo.com карты да любога з гэтых IP-адрасоў. 

Такім чынам, ён пасылае сапраўды такі ж запыт. Але на вонкавым боку канверт, ён проста змяшчае IP, што ён быў праінфармаваны аб. І такім чынам, таксама маглі б мы балансаваць нагрузку запыты проста пасылаць канверт да адрозніваецца адным з уласных сервераў Yahoo ,? 

І калі мы будзем капаць, мы ўбачым, магчыма, іншыя кампаніі з больш. CNN мае два публічна падвяргаюцца. Хоць на самай справе, калі мы робім гэта зноў і again-- cnn.com-- вы можаце ўбачыць яны мяняюць парадак, на самай справе. Так што механізм CNN, выкарыстоўваючы, па-відаць? 

ГЛЕДАЧЫ: Random. DAVID Малання: Ну, можа быць выпадковым, хоць здаецца, язда на ровары назад і наперад. Так што гэта, верагодна, дзе Кругавая сістэма яны проста перамыкаючы заказ так, што я, верагодна, зойме першае. Мой кампутар будзе прымаць першы кожны раз. Так што гэта балансіроўка нагрузкі. І гэта дазваляе нам, у канчатковым рахунку, для адлюстравання дадзеных, або запыты да карце, на некалькіх серверах. Так што ж віды праблемы ў цяперашні час усё яшчэ існуюць? Такое адчуванне, што мы на самай справе проста вырашыць добрую праблему. Мы атрымалі карыстальнікаў на розных серверах. Но-- ой, і Крыс, зрабіў ў вас ёсць пытанне, перш чым? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Цалкам залежыць шмат ад чаго. Дык што ж тут адбываецца? І мы сапраўды можам убачыць гэта. Дык давайце паспрабуем Yahoo. На самай справе, давайце пяройдзем да Facebook. Таму што мы ведаем, што адзін працуе. Так што я збіраюся скапіяваць што IP-адрас зноў. Я збіраюся зачыніць усе гэтыя ўкладкі. Я збіраюся пайсці адкрытым, што спецыяльная ўкладка сетку тут. І я збіраюся наведаць толькі HTTP: //. А цяпер я ўдару Enter. І давайце паглядзім, што адбылося. 

Калі я гляджу на гэтую просьбу, апавяшчэнне што my-- Facebook з'яўляецца дрэнным прыкладам. Таму што ў іх ёсць супер фантазіі тэхніка якая хавае гэтую дэталь ад нас. Дазвольце мне выкарыстоўваць Yahoo instead-- HTTP: // гэты IP. Давайце адкрыем нашу сетку Ўкладка, захаваць часопіс. І тут мы ідзем, Enter. Пацешна. Добра, дык вось славуты 404 паведамленне. Што смешнага ў тым, што яны верагодна, ніколі не вернецца. Таму што там, напэўна, не тое, што само па сабе няправільна. Яны проста наўмысна вырашылі не падтрымліваць лікавы форме іх адрасы. 

Так што мы на самай справе бачым у Ўкладка Сетка, калі я цягну гэта тут, гэта, як я кажу, славуты 404, дзе калі я гляджу на загалоўкі адказу, гэта тое, што я атрымаў here-- 404 Not Found. Дык давайце паспрабуем адзін аднаго. Давайце паглядзім, калі CNN супрацоўнічае з намі. Я захапіць адзін з IP-адрасоў на CNN, ачысціць гэта, HTTP, ля-ля-ля-ля. Такім чынам, у адказ на Крыса пытанне, што адзін працаваў. 

І давайце пяройдзем да загалоўкаў адказу. Наогул-то няма, усё ў парадку, я з усіх сіл, каб знайсці працоўны прыклад. Так CNN вырашыў, што мы проста пакінуць вас на любы адрас, вы на самой справе наведаць, пытанні брэндынгу ў бок. Але тое, што не адбывалася б, калі мы маглі бачыць яго ў выпадку Facebook, гэта мы атрымалі б 301 Moved Пастаянна, хутчэй за ўсё, усярэдзіне якога знаходзіцца Месцазнаходжанне: https: //www.facebook.com. І шанцы www.facebook.com з'яўляецца псеўданім для дакладнага жа сервера мы проста пайшоў. 

Так што гэта крыху контрпрадуктыўным. Мы ў літаральным сэнсе наведвання сервера. Сервер затым кажа нам, сысці. Перайсці да гэтага іншым адрасе. Але мы проста так здараецца, вяртаючыся да таго ж серверу. Але, верагодна, мы цяпер застацца на тым, што Сервер без гэтага назад і наперад. Таму што зараз мы выкарыстоўваем названы версія сайта, а не лічбавы. Добрае пытанне. 

ОК, так што калі мы цяпер assume-- мы вырашылі балансавання нагрузкі. Цяпер у нас ёсць механізм, няхай гэта будзе з дапамогай DNS, няхай гэта будзе з дапамогай гэтага чорнага скрыні, няхай гэта будзе гэта з дапамогай любога з гэтых метадаў. Мы можам прыняць запыт карыстальніка ў сістэму і высветліць, да якога сервера, 1, 2 ці 3, паслаць яго ці яе. 

Што пачынае разбурацца пра наш сайт? Іншымі словамі, мы маем пабудаваў бізнес, які быў раней на адным серверы. Цяпер, калі бізнэс працуе на некалькіх серверах. Якія дапушчэння, якія віды праектных рашэнняў, можа цяпер ламаць? 

Гэта менш відавочна. Але давайце паглядзім, калі мы не можам паставіць нашы палец на некаторыя праблемы мы стварылі для сябе. Зноў жа, гэта накшталт як правядзенне ўніз уцечкі ў шлангу. А зараз нейкае новае пытанне высунулася тут. 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Добра, так што мы павінны пастаянна расце наша прастора на цвёрдым дыску. Прама цяпер я ў парадку з гэтым. Таму што я думаю, што магу па гарызанталі маштабу. Падобна гэтаму, калі я бягу нізка, я проста атрымаць чацвёрты сервер, можа быць, пяты сервер, а затым павялічыць нашу здольнасць яшчэ на 30% ці 50% або этажэркі. Так што я ў парадку з гэтым, па меншай меры зараз. ГЛЕДАЧЫ: [неразборліва] DAVID Малання: ОК, так што гэта добрая кропка. Такім чынам, хай серверы не зьяўляюцца ідэнтычнымі. І абслугоўванне кліентаў або па электроннай пошце эквівалент атрымлівае нейкае паведамленне ад карыстальніка кажучы, гэта не працуе правільна. Цалкам магчыма, часам, што, магчыма, адзін або некалькі сервераў дзейнічае трохі крыва, але не іншыя, якія, безумоўна, можа зрабіць гэта цяжэй пераследваць пытанне. Вы, магчыма, прыйдзецца шукаць некалькі месцаў. 

То ёсць праява іншага роду памылкі, якая з'яўляецца тое, што вы, верагодна, варта распрацавалі інфраструктуру так што ўсё сапраўды ідэнтычныя. Але гэта сапраўды паказвае новую праблему што ў нас не было раней. Што яшчэ? ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, ёсць яшчэ складанасць. Там фізічна больш правадоў. Там іншую прыладу. На самай справе, я ўнёс фундаментальны Паняцце і фундаментальная праблема Вядома, як адна кропка няўдачы, якая, нават калі вы ніколі не чулі фраза, верагодна, можна Цяпер працаваць у зваротным кірунку, і зразумець гэта. Што гэта значыць, што ў мяне ёсць адзін кропка адмовы ў маёй архітэктуры? І архітэктуры, я проста маю на ўвазе тапалогію гэтага. 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, што калі выраўноўвальнік нагрузкі ідзе ўніз? Я ўставіў гэты сярэдні чалавек, у якога мэта ў жыцці, каб вырашыць праблему. Але я прадставіў новую праблему. Новая ўцечка ўзнікла ў шлангу. Таму што цяпер, калі балансавання нагрузкі памірае або парывы ​​або misfunctions, Цяпер я страціў доступ да усе тры з маіх сервераў. А да гэтага, я не зрабіў ёсць гэты пасярэднік. І так гэта новая праблема, магчыма. Мы вернемся да як мы можам выправіць гэта. 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Гэта было б адзін падыход. Так, і так гэта будзе даволі адтуліну пацукі мы пачынаем ісці ўніз. Але давайце вернемся да што ў імгненне. Якія яшчэ праблемы мы стварылі? 

Так Дэн згадаў базу дадзеных раней. І нават калі вы не занадта добра знаёмыя тэхнічна, база дадзеных проста сервер, на якім змена дадзеных звычайна захоўваецца, можа быць, хто-то для таго паставіў, ваш профіль карыстальніка, ваша імя, ваш адрас электроннай пошты, тое, што можа быць уведзеныя або зменены з цягам часу. 

Раней мая база дадзеных была на той жа сервер, як мой вэб-сервер. Таму што я толькі што быў адзін вэб-хостынг рахунак. Усё было ў тым жа самым месцы. Дзе я павінен паставіць свой базу дадзеных Цяпер, на сэрвэры 1, 2 ці 3? 

ГЛЕДАЧЫ: 4. 

DAVID Малання: 4, ОК, усё Добра, так што давайце пойдзем туды. Так што я збіраюся паставіць сваю database-- і давайце пачаць пазначаць гэтыя WWW, WWW, WWW. І я збіраюся сказаць, гэта нумар чатыры. І я скажу БД для базы дадзеных. Добра, мне гэта падабаецца. Якую лінію я павінен меркавана малюнак тут? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, так што код, як мы абмяркуем заўтра, як мяркуецца такі ж, на ўсіх трох серверах. Але цяпер неабходна падключыць ня да базы дадзеных на лакальным кампутары, але ў іншым месцы. І гэта выдатна. Мы можам проста даць да базы дадзеных, імя, як у нас, або нумар. І гэта ўсё працуе выдатна. Але што ж мы зрабілі? Мы гарызантальна маштабуецца пры наяўнасці тры сервера замест аднаго, які гэта добра. Таму што зараз мы можам апрацоўваць у тры разы больш нагрузкі. 

А яшчэ лепш, калі адзін або два з гэтых сервераў выходзіць з ладу, мой бізнэс можа працягваць працаваць. Таму што я да гэтага часу адзін, нават калі я выгляд накульгваючы з пункту гледжання прадукцыйнасці. Але тое, што новая праблема ёсць я ўведзеныя шляхам перамяшчэння базы дадзеных для гэтага асобны сервер а не на 1, 2 і 3? 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Так, так што зараз у мяне ёсць іншая адзіны пункт адмовы. Калі мая база дадзеных памірае, ці трэба быць падвышаны, або незалежна ад таго, цяпер упэўнены, мой вэб-сайт у Інтэрнэце. І я магу служыць статычным, нязменнае змест. Але я не магу дазволіць карыстальнікам увайсці ў сістэму або змяніць нічога ці замовіць што-небудзь, што яшчэ горш. Таму што калі 4 адсутнічае, затым 1, 2, і 3 на самай справе не можа гаварыць з ёй па азначэнні. 

ОК, так што так, і вось чаму Я не адважваючыся зрабіць гэта. Так што давайце вернемся да гэтага. Я не маю на ўвазе, каб штурхаць вас. Але карціна вельмі хутка збіраецца атрымаць стрэс. Таму што вам трэба, каб пачаць маючы два за ўсё. На самай справе, калі вы калі-небудзь бачыў кіно Як звязацца некалькі гадоў таму з Джодзі Foster-- не? 

ОК, так што для дваіх нас, хто бачыў кантакт, ёсць адносіны там, дзе яны па сутнасці, купіў два чагосьці а не адзін, хоць і у два разы даражэй. Так што гэта быў свайго роду гуллівая каментары ў фільме. Гэта свайго роду звязаныя з гэтым. Мы маглі б зрабіць гэта абсалютна. І вы толькі кошт нас у два разы больш грошай. Але мы вернемся да гэтага. 

Такім чынам, мы вырашылі гэтую праблему. Такім чынам, вы ведаеце, што? Гэта падобна на слізкім схіле. Я не хачу мець справу з наяўнасцю мець дублікат базы дадзеных. Гэта занадта шмат грошай. Вы ведаеце, што? Я хачу мець сваю базу дадзеных гэтак жа, як у першай версіі дзе кожны сервер мае сваю ўласную лакальную базу дадзеных. Так што я проста збіраюся маляваць дб на кожным з іх. 

Так што цяпер кожны вэб-сервер ідэнтычны ў той ступені, так як яна мае адзін і той жа код, тое ж самае статычныя актывы, тыя ж малюнкі і тэкст і гэтак далей. І кожны з іх мае сваю ўласную базу дадзеных. Я усталяваў адну кропку праблемы адмовы. Цяпер у мяне ёсць база дадзеных. Незалежна ад таго, які два ці адзін з іх рэчы, паміраюць, заўсёды ёсць адзін злева. Але тое, што новая праблема ёсць я стварыў што рашэнне Дана пазбегнуць? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, я павінны сінхранізаваць іх, ці не так? Бо мне трэба сінхранізаваць хто збіраецца where-- іншымі словамі, калі Аліса наведваюць мой сайт, і яна выпадкова каб атрымаць выпадковым чынам або круглы robined або незалежна ад таго, на сервер нумар адзін, Пасля гэтага я павінен заўсёды адправіць яе на сервер 1. Чаму? Таму што, калі я пасылаю яе на сервер 2, гэта будзе каб паглядзець, як яна там не існуе. 

Я не буду мець яе гісторыю заказаў. Я не буду мець яе профіль там. І гэта проста адчувае, як ён запрашае праблемы. І калі Боб наведвае, я павінны паслаць яго заўсёды да таго ж серверу, 2, або ў залежнасці ад таго адзін, і Чарлі да трэцяга, і паслядоўна. Гэта не пазбаўлена сэнсу, хоць. гэта называецца секционирования базы дадзеных. І на самой справе гэта было тое, што Facebook зрабіў на ранніх стадыях. 

Калі вы вынікалі гісторыю Facebook, гэта пачалося тут у кампусе у якасці www.thefacebook.com. Потым яна ператварылася аднойчы Марк пачаў распаўсюджванне ў іншыя кампусе каб быць harvard.thefacebook.com і mit.thefacebook.com, і, верагодна, bu.thefacebook.com, і таму падобнае. І гэта таму, што на ранняй стадыі, я не думаю, вы маглі б мець сяброў па кампусов. Але гэта нармальна. Таму што любы з Гарварда быў адпраўлены на гэты сервер. Любы з БУ атрымаў адсылацца на гэты сервер. Любы з MIT атрымаў адпраўлена да гэтага server-- ў тэорыі. Я не зусім ведаю, усё якія ляжаць у аснове дэталяў рэалізацыі. Але ён, верагодна, размяркоўвалі людзей, іх універсітэцкага гарадка, дзе іх сетка была. 

Так што гэта добра да кропкі дзе вам трэба два сервера для Гарварда, ці тры сервера для Гарварда. А потым, што прастата выгляд ламаецца. Але гэта разумны падыход. Давайце заўсёды пасылае Алісе да таго ж месцы, заўсёды пасылаюць Боба на тое ж месца. Але што адбудзецца, калі Эліс сервер пераходзіць у аўтаномны рэжым? Боб і Чарлі ўсё яшчэ можна купіць рэчы і ўвайсці на сайт. Але Аліса не можа. Такім чынам, вы страцілі трэць вашай карыстацкай базы. Можа быць, гэта лепш, чым на 100%? Але, магчыма, было б добра, калі б мы маглі да гэтага часу падтрымліваюць 100% нашых карыстальнікаў нават калі трэць нашых сервераў пераходзіць у аўтаномны рэжым. 

Такім чынам, мы маглі б сінхранізаваць што? Ня карыстальнікі, самі па сабе, але базы даных ва ўсіх гэтых серверах. Так што цяпер мы накшталт патрэбныя некаторыя выгляд злучэння вось так, што самі сэрвэры можа sync-- не з'яўляецца неабгрунтаваным. І на самай справе, гэтая тэхналогія існуе. У свеце баз дадзеных, ёсць паняцце вядучы-кіраваны баз дадзеных, або першаснага і другаснага, дзе сярод асаблівасцяў не толькі для захоўвання дадзеных і рэагаваць з дадзенымі, але і проста пастаянна сінхранізуюцца адзін з адным. Так што ў любы час вы пішаце або захаваць нешта ў гэтую базу дадзеных, ён адразу ж атрымлівае "реплицировать" для іншых баз дадзеных, а таксама. 

І ў любы час чытаць з яго, гэта не мае значэння, дзе вы знаходзіцеся. Таму што калі ў тэорыі яны ўсё сінхранізуюцца, вы збіраецца атрымаць той жа выгляд дадзеных. Так што гэта гучыць ідэальна. Там павінен быць падвох. Што можа быць падвох? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, так што ў тры разы так шмат рэчаў можа пайсці не так. Гэта рэальнасць. Усё гэта магло б быць такім жа духам. Але хто-то павінен наладзіць іх. Там вельмі высокая верагоднасць таго, што нешта пойдзе не так. Проста камбінаторныя ў вас ёсць больш матэрыялу схільныя да памылак. Што яшчэ дрэнна патэнцыйна? ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, так Сінхранізацыя можа быць дрэнным. Нават, як вы маглі б ведаць з рэзервовых копій і такія, калі вы проста слепа рабіць рэзервовае капіяванне, тое, што калі нешта пайсці не так, на адной базе дадзеных? Вы выдаліце ​​нешта вы не павінны. Вы неадкладна дубляваліся гэтая праблема ўсюды. Так што Вікторыя была talking-- рэзервовае капіраванне было б добра тут. І таму мы вернемся да гэтага. І было ясна, што мы гаворым не пра рэзервовых копій тут самі па сабе. Мы гаворым пра сапраўднай рэплікацыі або сінхранізацыі паміж серверамі. Яны ўсе жывуць. Яны не прызначаныя для выкарыстоўвацца для рэзервовага капіявання. 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Што гэта? ГЛЕДАЧЫ: Higher-- DAVID Малання: Больш высокі кошт. Мы патроілі выдаткі на Вядома, хоць па меншай меры, з пункту гледжання апаратных сродкаў. Паколькі база дадзеных з'яўляецца проста кавалак праграмнага забеспячэння. І вэб-сервер з'яўляецца часткай праграмнага забеспячэння. Гэта, верагодна, бясплатна, калі мы выкарыстоўваем любую колькасць рэчаў з адкрытым зыходным кодам. Але калі мы выкарыстоўваем нешта накшталт Oracle, мы плацім Oracle больш грошай у ліцэнзіі або Microsoft для доступу. Там павінен быць нейкі іншы ўлоў тут. Гэта не можа быць гэта проста. 

Так што да кропкі, я думаю, што гэта было Карыма, для геаграфіі earlier-- ці не, Раман, гэта быў, для geography-- выкажам здагадку што мы быць разумным аб гэтым, і мы змяшчаем адзін з нашых сервераў, і ў сваю чаргу, нашы базы дадзеных, у ЗША, а іншы ў Еўропе, іншы ў Паўднёвай Амерыцы, іншы ў Афрыцы, іншы ў Азіі, у любым месцы мы маглі б хацець ва ўсім свеце. Мы ўжо ведаем з нашага следу маршруты, што кропка А і кропка B, калі яны далей адзін ад аднаго, збіраюцца заняць больш часу. 

І калі некаторыя з вас выкарысталі інструменты, такія як Facebook або Twitter ці якія-небудзь з гэтых сайтаў, што ў гэтыя дні пастаянна мяняюцца з-за карыстальніка створаныя дадзеныя, часам, калі вы ударыў перазагрузіць або адкрыць тую ж старонку у іншым браўзэры, вы бачыце розныя версіі, амаль. Вы можаце ўбачыць чыйсьці статус абнавіць тут, але не тут, а затым перазагрузіць, а затым яго Аказваецца, і вы зноў перазагрузіць, і яна знікае. Іншымі словамі, трымаць вачэй за гэта, па меншай меры, калі вы выкарыстоўваеце сацыяльныя сетак у прыватнасці. 

Зноў жа, толькі таму, што дадзеных мяняецца так хутка, часам серверы рассинхронизироваться. А можа быць, гэта супер маленькае акно. Але 200 мілісекунд, можа быць, нават больш, чым гэта that-- збіраецца заняць некаторы ненулявое колькасць часу для гэтых баз дадзеных для сінхранізацыі. І мы не толькі казаць аб адным запыце. Калі ў кампаніі ёсць тысячы карыстальнікі выкарыстоўваць яго адначасова, яны могуць буфер. Іншымі словамі, можа быць чарзе або чакання лініі перш, чым усе тыя базы дадзеных запыты могуць сінхранізавацца. Так што, можа быць, на самой справе гэта некалькі секунд. 

І на самай справе, гэта праўда, я думаю, што нават па гэтай дзень з Facebook, у выніку чаго пры сінхранізацыі з Усходняе ўзбярэжжа на Заходняе ўзбярэжжа, яна мае нетрывіяльнае затрымка распаўсюджвання, так бы мовіць, што вы толькі збольшага павінны трываць. І таму гэта не так шмат памылка, як гэта рэальнасць якія не маглі б бачыць карыстальнікі правільныя дадзеныя, па меншай меры, некалькі секунд. 

Я бачу гэта на Twitter шмат на самай справе, дзе я часам буду цвіркалі ў адным акне, адкрыйце іншае затым убачыць яго, каб пацвердзіць, што гэта сапраўды пайшлі ўверх, і гэта яшчэ не там. І я павінен накшталт перазагрузкі, перазагрузіць, reload-- ой, там. І гэта не таму, што ён не быў выратаваны. Ён проста не распаўсюджваецца на іншыя серверы. 

Так што гэта кампраміс, too-- вы на самой справе хочуць падвяргаць сябе рызыцы што калі карыстальнік пераходзіць да іх парадку гісторыя, гэта не на самай справе там яшчэ? Я бачу гэта на некаторых банках. Гэта заўсёды раздражняе мяне, калі, ну, напрыклад, вы можаце ісці толькі як шэсць месяцаў таму у выпісах ў некаторых банках, нават калі ў тэорыі яны павінны быць у стане мець усё ў Інтэрнэце. Яны проста ўзяць рэчы ў аўтаномным рэжыме часам. Часам too-- якой вэб-сайт гэта? Там у одно-- о, гэта GoDaddy, я думаю. GoDaddy, калі вы сканчалі купіць даменнае імя або што-то, яны часта даюць вам спасылку на квітанцыі. А калі націснуць на гэтую спасылку права прэч, гэта часта не працуе. Ён проста кажа, тупік, і зусім нічога. 

І гэта таксама з-за гэтыя затрымкі распаўсюду. Таму што па якой-небудзь прычыне, яны займаюць крыху часу на самай справе генераваць гэта. Так што гэта накшталт як вы хочаце выцягнуць свае валасы ў нейкі момант. Таму што ўсё, што вы спрабуеце зрабіць, гэта вырашыць простую праблему. І мы працягваем стварэнне новых праблемы для сябе. Такім чынам, давайце паглядзім, калі мы можа збольшага адмяніць. 

Аказваецца, што аб'яднанне базы дадзеных на ўсіх вашых вэб-сервераў гэта на самай справе не лепшая практыка. Наогул, тое, што інжынер будзе рабіць, або сістэмны архітэктар, будзе мець розныя ярусы сервераў. І толькі дзеля прасторы, я буду чэрпаюць базу дадзеных тут. 

Мы маглі б мець базу дадзеных і Сервер нумар чатыры тут што мае падключэнне да кожны з гэтых сервераў тут. Так што гэта можа быць наш фронт канец ярус, так як людзі сказалі б. І гэта будзе наш задні канец ўзроўню. І гэта проста азначае, што яны сутыкаюцца з карыстальнікам. А базы дадзеных не звернутая да карыстача. Няма элемент можа напрамую доступ да базы дадзеных. 

Так давайце зараз, можа быць ісці ўніз Прапанаваны маршрут Вікторыя. Гэта адзіная кропка адмовы. Гэта робіць мяне нязручным. Так што, магчыма, Найбольш відавочнае рашэнне? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: На жаль, сказаць, што зноў. ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Невытворчая сервер. Што ты маеш на ўвазе? 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: О, добра, так што рэзервовае капіраванне. ОК, так што мы маглі б зрабіць гэта, вядома ж. І на самой справе гэта вельмі часта робіцца. Гэта можа быць база дадзеных нумар пяць. Але гэта толькі злучаны з нумарам чатыры. І вы маглі б назваць яго гарачым рэзервам. Гэтыя дзве базы дадзеных можа быць сканфігураваны проста пастаянна сінхранізаваць адзін аднаго. І таму, калі гэтая машына памірае, для усё, што па-дурному reason-- жорсткі дыск памірае, нехта паездак па шнур, некаторы праграмнае забеспячэнне з'яўляецца некарэктнай і машына завісае або crashes-- вы маглі б мець чалавека ў літаральным сэнсе адключыце гэты ад сцяны і замест таго, каб падключыць гэты ст. А потым ўнутры, давайце скажам, некалькі хвілін, можа быць, праз паўгадзіны, вы вярнуліся ў Інтэрнэце. 

Гэта не выдатна, але гэта таксама не трапіла. І вам не прыйдзецца турбавацца аб якіх-небудзь праблемах сінхранізацыі. Таму што ўсё ўжо ёсць. Таму што ў вас было ідэальным рэзервовага капіявання гатовы да працы. 

Вы маглі б быць крыху спрактыкаваней пра гэта, так як некаторыя людзі часта робяць, дзе вы могуць мець базы дадзеных нумар чатыры тут, база дадзеных нумар пяць тут, якія размаўляюць адзін з адным. Але ў вас таксама ёсць гэта выгляд arrangement-- і свядома выглядае брудным, таму што ён is--, дзе ўсё пярэднія серверы могуць гаварыць з усімі сервернымі сервераў. І таму, калі гэтая база дадзеных не рэагаваць, гэтыя пярэднія канчатковыя серверы каб мець праграмаванне код у іх, што кажа, калі вы не атрымаеце падключэнне да гэтай базе дадзеных, першасны неадкладна пачынае гаварыць з другасным. 

Але гэта цяпер штурхае складанасць у кодзе. А цяпер вашыя распрацоўшчыкі, ваша праграмнае забеспячэнне распрацоўшчыкі, павінны ведаць пра гэта. І вы, здаецца, завязвання код, вы пішаце да вашай фактычнай задняй частцы дэталі рэалізацыі, што робіць яго больш цяжкім, асабліва ў большым кампанія або больш вэб-сайт, дзе вы не абавязкова хочуць праграмісты мець каб ведаць, як база дадзеных інжынеры выконваюць сваю працу. Вы можаце захаваць гэтыя ролі свайго роду функцыянальна адрозніваюцца так што ёсць гэты пласт абстракцыя паміж імі. 

Такім чынам, як мы маглі б гэта выправіць? Ну, мы неяк вырашана гэтая праблема калісьці раней. Чаму б нам не паставіць адзін з гэтыя рэчы тут, дзе ён кажа, у сваю чаргу нумар чатыры і пяць, ўсё вэб-сервераў вонкавага інтэрфейсу пагаварыць з гэтым пасярэднікам, а Пасярэднік у сваю чаргу, маршрутах іх дадзеных? На самай справе, што можа быць добрая назва для гэтай рэчы? 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: OK, менеджэр баз дадзеных. Але што можа быць тэрмін, які мы маглі б паўторна выкарыстоўваць для гэтага прылады? Мы балансавання. Так, так што на самой справе, я ня быць справядлівым тут. Такім чынам, балансавання нагрузкі будзе азначаць, што мы перамыкаючы назад і наперад тут, якія маюць патрэбу ў самай справе не так. Такім чынам, ёсць некалькі спосабаў, якімі мы маглі б зрабіць гэта. 

Калі гэта на самай справе балансавання нагрузкі, то гісторыя дакладна такая ж, як і раней. Некаторыя з запытаў ідуць 4. Некаторыя з іх ідуць на 5. І гэта добра. Таму што зараз мы можам апрацоўваць у два разы больш прапускной здольнасці. Але гэтая сувязь тут супер важна. Яны павінны заставацца пастаянна сінхранізаваных і мы спадзяемся, геаграфічна не занадта далёка адзін ад аднаго, так што сінхранізацыя па сутнасці імгненна. У адваротным выпадку мы маглі б мець праблемы. 

Так што гэта не дрэнна. Але зноў-такі, мы прадставіла новую праблему. Якую праблему я проста адноўлены? Адзіная кропка адмовы. Так што рашэнне на гэты конт? Так што, як Вікторыі любяць марнаваць грошы, мы можам узяць гэтага хлопца і зрабіць гэта. І я толькі збіраюся рухацца тут досыць месцы. І гэта збіраецца быць трохі неакуратна. Я буду трымаць маляванне ліній. Выкажам здагадку, што ўсе гэтыя лініі ідуць у абодвух? 

Вельмі распаўсюджаны метад тут будзе выкарыстоўваць тэхніку, званую сэрцабіцця прычым кожнае з гэтых прылад, левы і правы балансавання нагрузкі, або тое, што мы хочам, каб называць іх, ўвесь час кажуць, што я жывы, Я жывы, я жывы, я жывы. Адзін з іх па змаўчанні выступае ў якасці асноўнага. Такім чынам, увесь трафік перанакіроўваецца праз адзін на левай баку, напрыклад, па змаўчанні, адвольна. 

Але як толькі хлопец на правым не чуе ад левага хлопца больш, адзін на правым запраграмаваны аўтаматычна, напрыклад, ўзяць на сябе IP-адрас з адной злева, і, такім чынам, стаць асноўным, і можа быць, адправіць па электроннай пошце ці тэкставае паведамленне да людзей, каб сказаць, эй, левы першасны адсутнічае. Я стаў асноўным на дадзены момант. Так, віцэ-прэзідэнт становіцца прэзідэнт, так бы мовіць. І хто-то павінен пайсці выратаваць прэзідэнт, калі вы хочаце. Таму што цяпер у нас ёсць часовы адзіны пункт адмовы. 

Так жа складана або стрэс, як гэта можа здацца пачаць быць, гэта тое, як вам вырашыць гэтыя праблемы. Вы робіце кідаць грошы на яго. Вы кідаеце апаратнае забеспячэнне на яго. Але на жаль, вы дадаць складанасць для яго. Але вынік, у канчатковым рахунку, з'яўляецца тое, што ў вас ёсць значна больш, у тэорыі, надзейная архітэктура. Гэта ўсё яшчэ не дасканалыя. Таму што нават калі мы have-- мы маглі б няма адзінай пункту адмовы. Цяпер у нас ёсць двайныя пункту адмовы. Але калі дзве рэчы ідуць не так, які абсалютна мог, мы па-ранейшаму будзе знаходзіцца ў аўтаномным рэжыме. 

А так вельмі распаўсюджаны ў прамысловасць, каб апісаць Ваша Час з пункту гледжання дзявятак. І быццам мэты імкнуцца да 99,999% часу ваш сайт у Інтэрнэце. Ці яшчэ лепш, дадаць некалькі дзявятак да гэтага. На жаль, гэтыя дзявяткі каштуюць вельмі дорага. І давайце на самай справе рабіць гэта. Так што, калі я адкрываю мой вялікі калькулятар зноў, 365 дзён у годзе, 24 гадзіны ў суткі, 60 хвілін у гадзіну, і 60 секунд у хвіліну, вось колькі секунд ёсць у год, калі я зрабіў гэта правільна. Так што калі мы раз гэта, .99999, гэта колькі часу мы хочам імкнуцца. Такім чынам, гэта азначае, што мы павінны быць уверх гэта шмат секунд на працягу года. Так што, калі я цяпер адняць зыходнае значэнне, ці, дакладней, гэта новае значэнне з first-- 316 секунд, які, вядома, праз пяць хвілін. 

Так што калі ваш сайт ці ваша кампанія сцвярджаючы, што "пяць дзявятак", у якім вы знаходзіцеся да 99,99% часу, гэта азначае, што вам лепш быў досыць разумны і хутка дастаткова і досыць ўпоравень з рэсурсамі што вашы серверы толькі ў аўтаномным рэжыме пяць хвілін з году. Гэта дарагая і цвёрдая рэч, каб імкнуцца. 

Так што гэта кампраміс, таксама. 99,999% часу даволі цыраваць цяжка і дорага. Пяць minutes-- вы можаце толькі атрымаць на сервер фізічна замяніць тое, што пайшло не так. І менавіта таму мы пачынаем праводку ўсе разам больш складаныя апрыёрна так, што кампутары можа накшталт выправіць сябе. Так. 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Праблема можа быць у любой колькасці месцаў. І ў fact-- 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання Абсалютна, абсалютна. І, як карціна становіцца ўсё больш складаным, гэта можа быць вэб-серверы. Гэта можа быць сіла да будынка. Гэта можа быць нешта фізічнае, як кабелі атрымалі паношаны або выганяць. Гэта можа быць база дадзеных не адказвае. Гэта можа быць, яны абнавілі свае аперацыйныя сістэма і нешта вісіць. Так што ёсць так шмат іншых рухаюцца частак. І так шмат інжынерных што павінен ісці за гэтым на самай справе проста кампрамісы, напрыклад, як шмат часу, колькі грошай ён на самай справе варта, і якія пагрозы вы сапраўды занепакоеныя? Напрыклад, у курсы я вучу ў Гарвардзе, мы выкарыстоўваем шмат хмарных вылічэнняў, якая мы пачнем зірнуць на цяпер, На самай справе, дзе мы выкарыстоўваем Amazon Web Services. Проста таму, што гэта якую мы пачалі. Але ёсць яшчэ больш у гэтыя дні ад Google і Microsoft і іншыя. І мы свядома вырашылі паставіць усе віртуальных машын нашых курсаў », як яны называюць, у я думаю, гэта Заходняя Вірджынія цэнтра апрацоўкі дадзеных. Большасць нашых студэнтаў здараецца, з ЗША, хоць ёсць, вядома, некаторыя на міжнародным узроўні. 

Але рэальнасць такая, што гэта проста прасцей і гэта танней для нас пакласці ўсе яйкі у кошыку Вірджыніі, хоць я ведаю, калі нешта пойдзе не так у Вірджыніі, роўна як і час ад часу, як happened-- калі ёсць ўраган ці некаторыя надвор'я падзея, як, што, калі ёсць нейкая выпуск энергасістэма або like-- ўсе з дадзеных нашых курсаў "можа пайсці на форуме на працягу некаторага колькасці хвілін або гадзін ці нават даўжэй. 

Але колькасць складанасці якія спатрэбяцца, і колькасць грошай, якія б патрабуецца, каб працаваць усе паралельна ў Еўропе ці ў Каліфорніі проста не мае так шмат сэнсу. Так што рацыянальнае гандаль прэч, але хваравітым калі вы на самой справе маючы, што час прастою. 

Што ж, давайце пераход прама цяпер некаторыя з хмарных рашэнняў у некаторых з гэтых праблем. Усё, што мы былі абмеркавання да гэтага часу гэта свайго роду праблем, якія маюць быў з намі на працягу некаторага часу, ці ёсць у вас свой уласны сервераў у вашай кампаніі, Ці вы пайсці на сумеснае размяшчэнне месца як цэнтр апрацоўкі дадзеных і доля прастору з кімсьці яшчэ, або ў цяперашні час у воблаку. 

І што прыемна аб воблака, што ўсе з гэтых рэчаў, якія я малюнак як фізічныя аб'екты Зараз можна разглядаць як свайго роду віртуальных аб'ектаў у воблаку, якія змадэляваныя з дапамогай праграмнага забеспячэння. Іншымі словамі, кампутары сёння, серверы сёння, як на малюнку Dell Я паказаў раней, настолькі хутка, ёсць так шмат аператыўнай памяці, столькі працэсар, столькі дыск прастору, што людзі пісалі Праграмнае забеспячэнне практычна раздзела адзін сервер ўверх у ілюзію яго быць два сервера, або 200 сервераў, так што кожны з нас кліенты мае ілюзію наяўнасці не толькі кошт на некаторых вэб гаспадар, але нашу ўласную машыну, мы здача ў арэнду ад каго-то іншага. 

Але гэта віртуальная машына да гэтага часу, як на адным серверы Dell, ён зноў можа быць падзелена ўверх у два ці 200 ці больш віртуальных машын, усе з якіх даюць камусьці адміністрацыйны доступ, але ў шляху, дзе ніхто з нас ведае ці можа атрымаць доступ да іншых віртуальным машыны на тым жа абсталяванні. Такім чынам, каб намаляваць карціну ў сённяшніх слайдаў, Я гэты стрэл тут з вэб-сайта называецца Докер. 

Так што гэта крыху больш падрабязна, чым мы на самой справе трэба. Але калі вы разглядаць гэта як ваш infrastructure-- так што проста апаратныя сродкі самастойна, серверы, стэлажы, дадзеныя цэнтр, і ўсё that-- вы б як правіла, працуюць пад кіраваннем аперацыйнай сістэмы хаста. Дык нешта like-- гэта можа быць Windows. Гэта не было б Mac OS. Таму што гэта на самай справе не прадпрыемства ў гэтыя дні. Так што гэта будзе Linux ці Solaris або Unix ці BSD ці FreeBSD або любую колькасць іншых аперацыйных сістэм якія з'яўляюцца альбо бясплатна, альбо камерцыйны. 

А потым вы запускаеце праграма, спецыяльная праграма, называецца гіпервізара, або манітор віртуальнай машыны, VMM. І гэтыя прадукты, калі вы знаёмыя, як VMware або VirtualBox або Virtual PC або іншыя. І тое, што гэтыя праграмы робяць менавіта тое, што асаблівасць, якую я апісаў раней. Гэта стварае ілюзію што адной фізічнай машыне можа быць некалькі віртуальных машын. 

І вось гэтыя маляўнічыя скрынкі да верху намаляваць карціну наступным чынам. Гэты гіпервізара, гэта частка праграмнага забеспячэння, выклічце яго VMware, якія працуюць на нейкай іншай аперацыйная сістэма, назавем яго Linux, стварае ілюзію таго, што гэта фізічны кампутар, на самай справе адзін, два, тры віртуальных кампутараў. Так што я ў цяперашні час купіў, як уладальнік гэта абсталяванне, адзін фізічны кампутар. А цяпер я арэнды гэта тры кліента. 

І гэтыя тры кліенты ўсё думаюць яны маюць спецыяльную віртуальную машыну. І гэта не прынады і перамыкач. Гэта больш раскрыццё, што вы карыстаецеся віртуальную машыну. Але тэхналагічна, мы ўсё маюць поўны адміністрацыйны кантроль над кожным з гэтых госця аперацыйных сістэм, якія маглі б быць любую колькасць аперацыйных сістэм. 

Я магу ўсталяваць усё, што захачу. Я магу абнавіць яго, як я хачу. І я нават не трэба ведаць ці клапаціцца пра іншых аперацыйных сістэмы на гэтым кампутары, іншыя віртуальныя машыны, калі не ўладальнік усяго гэтага шэрага хлам быўшы трохі прагны і пераацэньваць свае рэсурсы. 

Так што, калі вы прымаеце адзін фізічная машына і прадаваць яго каб не 200, а 400 кліенты, у нейкі момант мы збіраемся паездка ў тыя Тыя ж праблемы з прадукцыйнасцю, як раней. Паколькі ў вас ёсць толькі канчатковае аб'ём дыска і аператыўнай памяці і гэтак далей. І віртуальная машына гэта проста праграма, гэта робячы выгляд, што паўнавартасны кампутар. Такім чынам, вы атрымаеце тое, што вы плаціце за тут. 

Такім чынам, вы знойдзеце на сайце вы можаце заплаціць Паважаная кампанія можа быць $ 100 у месяц для вашай ўласнай віртуальнай машыне, або свой уласны віртуальны выдзелены сервер, які з'яўляецца іншы тэрмін для гэтага. Ці вы маглі б знайсці нейкі пралятаюць ноч, дзе вы плаціце $ 5,99 у месяц для вашай ўласнай віртуальнай машыне. Але шанцы ў вас няма амаль як шмат прадукцыйнасці даступныя для вас, таму што яны былі перепроданность яго так, чым вы б з вышэйшай ўзроўню абслугоўвання або лепш пастаўшчыка. 

Такім чынам, што ж гэта на самай справе значыць для нас? Такім чынам, дазвольце мне перайсці да гэтага. Я збіраюся паехаць у aws.amazon.com. Проста таму, што ў іх ёсць добрае меню опцый. Але гэтыя ж ўрокі дастасавальныя да цэлая куча іншых пастаўшчыкоў хмарных. На жаль, гэта часта больш маркетынг казаць, чым што-небудзь. І гэта стала змяняецца. Такім чынам, вы ідзяце на сайт, як гэта. І гэта сапраўды не мае сказаць вам шмат усяго. 

І нават я, як я гляджу на гэта, не на самай справе ведаць, што любы з гэтых рэчаў абавязкова рабіць, пакуль я не ныраць. Але давайце пачнем з левага боку, Compute. І я збіраюся націснуць гэта. А цяпер Amazon мае адкрыта Пераважная колькасць паслуг у гэтыя дні. Але Amazon EC2, мабыць, самы просты. 

Amazon EC2 створыць для нас дакладна карціна мы бачылі хвіліну таму. Гэта, як яны робяць шмат іх грошы ў воблаку. Па-відаць, Netflix і іншыя знаходзяцца ў воблаку з імі. Гэта ўсё, як правіла, пухнатыя маркетынгу кажуць. Так што я хачу зрабіць, гэта пайсці ў Pricing-- ці, дакладней, пойдзем да асобнікам спачатку проста намаляваць карціну гэтага. 

Так што гэта будзе вар'іравацца ў залежнасці ад пастаўшчыка. І нам не трэба, каб атрымаць занадта глыбока ў пустазелле тут, як гэта ўсё працуе. Але шлях Amazon, да прыкладу, арандуе вам віртуальную машыну або сервер у воблаку ў іх ёсць гэта свайго роду пацешнымі назвамі, як t2.nano, што азначае маленькі, або t2.large, што азначае вялікі. Кожны з іх дае вам альбо адзін ці два віртуальных працэсараў. 

Чаму гэта віртуальны працэсар? Ну, фізічная машына можа маюць 64 або больш рэальных працэсараў. Але зноў-такі, з дапамогай праграмнага забеспячэння, яны ствараюць ілюзію што, што адна машына можа быць divvied да некалькіх карыстальнікаў. Такім чынам, мы можам думаць пра гэта як маючы адзін працэсар Intel ці два. крэдытаў CPU на hour-- я б павінны чытаць дробны шрыфт адносна таго, што гэта на самай справе азначае. Гэта азначае, што, як большая частка машыны вы можаце выкарыстоўваць у гадзіну візаві іншыя кліенты на гэтым апаратным забеспячэннем. 

Вось колькі аператыўнай памяці або памяці ў вас get-- альбо палову гігабайта, або 500 мегабайта, або 1 гігабайт, або 2. І тады захоўванне проста ставіцца да якога роду дыскаў яны даюць вам. Там у розныя спосабы захоўвання тэхналогіі, якія яны прапануюць. Але больш цікава, чым гэта то можа быць цэнаўтварэнне. 

Так што калі вы тэхнічны дырэктар або інжынер, які не робіць хочаце запусціць сервер у офіс, з якой прычыны, і гэта занадта складаны ці па дарозе купіць серверы і сумесна знайсці іх і плаціць арэндную плату ў нейкім фізічным прасторы клетцы somewhere-- вы проста хочаце, каб сядзець на вашым ноўтбуку позна ўначы, увядзіце дадзеныя вашай крэдытнай карты, і ўзяць у арэнду серверы ў cloud-- добра, мы можам зрабіць гэта тут. Я збіраюся пайсці ўніз Linux, мэтай якіх з'яўляецца папулярнай аперацыйнай сістэмай. І давайце проста атрымаць сэнс рэчаў. Whoops-- занадта вялікі. 

Так што давайце паглядзім на іх драбнюткай віртуальная машына, якая, здаецца, ёсць, для нашых мэтаў, адзін працэсар і 500 мегабайт аператыўнай памяці. Гэта даволі маленькі. Але, шчыра кажучы, вэб-серверы ня трэба зрабіць усё, што многае. У вас ёсць лепшыя функцыі ў вашым ноўтбуку. Але вам не патрэбны тыя, дадзеныя ў гэтыя дні для рэчаў. Вы збіраецеся заплаціць $ 0,0065 у гадзіну. 

Такім чынам, давайце паглядзім. Калі ёсць 24 гадзіны ў суткі, і мы плацім столькі ў гадзіну, гэта будзе каштаваць вам $ 0,15 у арэнду, што пэўны сервер у воблаку. І гэта толькі на адзін дзень. Калі мы робім гэта 365-- $ 57 да арандаваць гэты канкрэтны сервер. Дык гэта гучыць супер танна. 

Гэта таксама вельмі нізкая прадукцыйнасць. Такім чынам, мы, на курсы я выкладаю тут, як правіла, выкарыстоўваць я думаю t2.smalls або t2.mediums. І мы маглі б мець некалькі сотняў карыстальнікі, некалькі тысяч карыстальнікаў, агул. Гэта даволі сціплы. Такім чынам, давайце паглядзім, што гэта будзе каштаваць. Так што, калі я раблю гэта выдаткі раз 24 гадзін 365 раз, на гэты раз у $ 225. І на курсы Я вучу, мы ў цэлым запусціць два ўсяго, для надмернасці, а таксама для павышэння прадукцыйнасці. Такім чынам, мы маглі б выдаткаваць, таму, $ 500 для сервераў што мы, магчыма, спатрэбіцца ў год. 

Цяпер, калі вам трэба больш performance-- давайце зірнем на памяць. Мы гаварылі пра памяць зусім няшмат. І калі вам трэба больш memory-- і 64 гігабайта гэты лік, якое я трымаў mentioning-- гэта амаль $ 1 у гадзіну. І вы можаце даволі хутка ўбачыць, дзе гэта goes-- так 24 гадзіны 365 разоў. Так што цяпер гэта $ 8000 у год для даволі прыстойны сервер. 

Так што ў нейкі момант, ёсць гэтая кропка перагіну дзе цяпер мы маглі б выдаткаваць $ 6000 верагодна, і купіць машыну, як гэта і амартызаваць яго кошт больш можа быць, два, тры гады, тэрмін службы машыны. Але што можа падштурхнуць вас у спрыяць ці не спрыяць арэнды машына ў воблаку, як гэта? Зноў жа, гэта супастаўна, напэўна, да аднаго з гэтых сервераў Dell мы бачылі на фота трохі назад. 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, гэта велізарны патэнцыял росту. Таму што мы не купляеце машына, мы не павінны распакоўваць яго. Мы не павінны яго падняць. Мы не павінны падлучыць яго да нашай стойцы. Мы не павінны яго падключыць. Мы не павінны плаціць электрычны законапраект. 

Мы не павінны павярнуць кандыцыянаванне паветра на. Калі жорсткі дыск памірае, мы не маем забіваць у сярэдзіне ночы каб выправіць гэта. Мы не павінны ўсталяваць кантроль. У нас няма, мэтай якіх спіс працягваецца і на ўсіх фізічных рэчаў Вам не трэба рабіць з-за "воблаку". 

І ясна, хмарныя вылічэнні гэта вельмі злоўжываюць тэрмінам. Гэта сапраўды проста азначае, што плаціць каму-то яшчэ для запуску сервераў для вас, або арэнды памяшканняў на серверы кагосьці іншага. Такім чынам, тэрмін "хмарныя вылічэнні" з'яўляецца новым. Ідэя складаецца ў тым дзесяцігоддзяў. Так што гэта даволі пераканаўчым. 

А што яшчэ вы атрымліваеце? Ну, вы таксама атрымліваеце магчымасць рабіць усё, на ноўтбуку ў сябе дома. Іншымі словамі, усе фатаграфіі я проста drawing-- і гэта было не так даўно, што нават Я поўзаў на падлозе сервера падключыць кабелі на працягу кожная з ліній, якія вы бачыце, і абнаўленне аперацыйнай сістэмы, а таксама змена дыскаў вакол. Там вельмі шмат цялеснасьць да ўсяго гэтага. 

Але тое, што прыгожа аб віртуальнай машыны, паколькі назва роду мяркуе, Зараз ёсць вэб- інтэрфейсы з дапамогай чаго калі вы хочаце эквівалент лініі з гэтага сервера да іншага, проста тып, тып, тып, націсніце і перацягнуць, націсніце кнопку Адправіць, і вуаля, ў вас ёсць гэта правадныя ўверх практычна. Таму што ўсё гэта робіцца ў праграмным забеспячэнні. І прычына, гэта робіцца ў праграмнае забеспячэнне зноў таму што ў нас так шмат аператыўнай памяці і так шмат CPU даступныя для нас у гэтыя дні, хоць усе што матэрыял займае шмат часу, гэта павольней весці справы у праграмным забеспячэнні, чым апаратныя сродкі, гэтак жа, як гэта павольней, каб выкарыстоўваць механічны Прылада, як жорсткі дыск, чым RAM, нешта чыста электронныя. У нас так шмат рэсурсаў даступныя для нас. Мы, людзі, з'яўляюцца свайго роду інварыянтныя павольна. І вось зараз машыны могуць зрабіць так што значна больш за адзінку часу. У нас ёсць гэтыя здольнасці рабіць нешта віртуальна. 

І я буду гаварыць на курсы Я вучу, напрыклад, тут, мы маем о, можа быць, дзясятак таму агульная колькасць віртуальных машын як гэта працуе ў любы дадзены момант час, робячы пярэдні канец рэчы, рабіць задні канец рэчы. У нас ёсць усе нашы сховішчы. Такім чынам, любое відэа, у тым ліку рэчы як гэта, што мы здымаем, мы ў канчатковым выніку пакласці ў воблака. Amazon мае паслугі пад назвай Amazon S3, іх просты сэрвіс захоўвання, які сапраўды гэтак жа як аб'ём дыскавай прасторы ў воблаку. У іх ёсць нешта называецца CloudFront, які гэта паслуга CDN, Content Служба дастаўкі сеткі, якая азначае, што яны прымаюць усе вашы файлы і для вас автомагіческі паўтарыць яго па ўсім свеце. 

Такім чынам, яны не робяць гэта прэвентыўна. Але ў першы раз хто-то у Індыі запытвае файл, яны патэнцыйна кэшаваць яго лакальна. У першы раз у Кітаі, першы раз у Бразіліі, што адбываецца, яны пачнуць кэшаванне яго лакальна. І вы не павінны рабіць нічога з гэтага. І так гэта неверагодна прымушаючы гэтыя дні, каб перамясціць рэчы ў воблака. Таму што ў вас ёсць гэтая магчымасць у літаральным сэнсе каб ня мець людзей робяць амаль столькі ж праца. І вы ў літаральным сэнсе не трэба так шмат людзі робяць гэтыя працоўныя месцы anymore-- "OPS", або функцыянальныя ролі, больш. Вы на самой справе проста трэба Распрацоўшчыкі і менш інжынераў хто можа проста зрабіць нешта віртуальна. На самай справе, проста каб даць вы пачуццё гэтага, дазвольце мне перайсці да цэнаўтварэння на адзін іншы прадукт тут. Давайце паглядзім, нешта накшталт CDN S3. Такім чынам, гэта па сутнасці віртуальны жорсткі дыск у воблаку. І калі мы пракруціць ўніз да pricing-- так што $ 0,007 за гігабайт. І that's--, як мы гэта робім? Я думаю, што ў месяц. 

Так што, калі гэта за month-- або ў дзень? Дэн, гэта за дзень? Гэта ў месяц, OK. Так што, калі гэта за month-- На жаль, гэта $ 0,03 у месяц. Там у 12 месяцаў у годзе. Дык колькі дадзеных можа захоўваць у воблаку? Гігабайт не гэтак вялікая, але я не ведаю, як 1 тэрабайт, так як 1000 з іх. Гэта яшчэ не ўсё, што шмат. Гэта $ 368 для захоўвання тэрабайт дадзеных у воблаку Amazon. Так што некаторыя з то кампрамісы, то? Яна не можа быць усё добра. Нічога мы гаварылі сёння няма свайго роду без улову або кошту. Так што дрэнна аб пераездзе усё ў воблаку? АЎДЫТОРЫЯ: Бяспека. DAVID Малання: Добра, што вы маеце на ўвазе? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Так, дакладна. І ці сапраўды вы хочаце некаторыя выпадковыя інжынеры на Амазонкі, што вы ніколі не сустрэнеце маючы фізічны доступ да гэтых кампутараў, і калі яны на самой справе хацеў, віртуальны доступ? І хоць у тэорыя software-- добра, Шыфраванне можа абсалютна абараніць вас ад гэтага. Так што, калі тое, што вы захоўванне на серверах з'яўляецца encrypted-- менш турботы. 

Але як толькі чалавек мае фізічны доступ да машыны, шыфраванне ў бок, усе стаўкі з'яўляюцца свайго роду гульню. Магчыма, вы ведаеце з мінулых гадоў што ПК асабліва, нават калі ў вас гэтыя рэчы званыя "паролі BIOS," былі, калі ваш працоўны стол загрузіўся, вы б запыт з паролем, які не мае нічога агульнага з Вокны, як правіла, вы можаце проста адкрыць шасі машына, знайсці малюсенькія шпількі, і выкарыстоўваць тое, што называецца скакун і проста падлучыць гэтыя два провада прыкладна на адну секунду, такім чынам завяршаючы схему. І гэта ліквідуе пароль. 

Таму, калі ў вас ёсць фізічны доступ да прылада, вы можаце зрабіць нешта падобнае. Вы можаце выдаліць жорсткі дыск. Вы можаце атрымаць доступ да яго такім чынам. І вось чаму, у выпадак Dropbox, напрыклад, гэта крыху выклікае неспакой, што не толькі яны ёсць дадзеныя, нават калі гэта зашыфраванае, у іх таксама ёсць ключ. Іншыя клопаты? 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Так, гэта вельмі true-- ў Googles, яблыкі, у Microsofts свету. І на самай справе, як доўга у Вас быў свой iPhone для? Так, даваць ці прымаць. ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Я шкадую? Вы сярод тых, хто мае iPhone, ці не так? ГЛЕДАЧЫ: Так. DAVID Малання: Як доўга Вы мелі свой iPhone? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: ОК, так што Apple, у літаральным сэнсе ведае дзе вы былі кожную гадзіну на наступны дзень на працягу апошніх пяці гадоў. 

ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Што выдатная асаблівасць. ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Так, але кампраміс напэўна. ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: Так, гэта вельмі лёгка. ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Іншыя адмоўныя бакі? ГЛЕДАЧЫ: [неразборліва] DAVID Малання: Absolutely-- тэхналагічна, эканамічна, гэта даволі вымушаюць свайго роду атрымаць гэтыя эканоміі ад маштабу і перанесьці ўсе ў так званае воблака. Але вы, верагодна, хочаце ідуць з некаторымі з найбуйнейшых рыба, амазонкі, то Googles, то Microsofts-- Rackspace даволі big-- і некалькі іншых, а не абавязкова лётаць ноччу людзі для якіх гэта вельмі лёгка зрабіць гэты від тэхнікі ў нашы дні. І вось, каго вы можаце плаціць $ 5,99 у месяц. Але вы, вядома, атрымаць тое, што вы плаціце. 

Калі вы кажаце [неразборліва], што, калі такія рэчы, як гэтыя пяць дзявятак прыдумалі, прычым нават калі тэхналагічна мы не можам гарантаваць 99.999, мы проста пабудаваць у пэўным сэнсе пені па дамове так што, калі гэта адбудзецца, па меншай меры, ёсць некаторая кошт да нас, прадавец. І гэта тое, што вы, як правіла, атрымліваць іх пагадзіцца. 

ГЛЕДАЧЫ: [неразборліва] 

DAVID Малання: І адзін від благаслаўлення у тым, што нават калі мы ідзем ўніз, для напрыклад, ці нават некаторыя кампаніі, рэальнасць такая, Amazon, напрыклад, мае так шмат цыраваць кліентаў, добра вядомыя кліенты, працуючы з пэўных цэнтраў апрацоўкі дадзеных што калісьці сапраўды ідзе не так, як стыхійныя бедствы і ўмоў надвор'я і такіх, калі ёсць якой-небудзь сярэбраныя накладкі, гэта тое, што вы знаходзіцеся ў вельмі добрай кампаніі. Ваш сайт можа знаходзіцца ў аўтаномным рэжыме. Але так як палова папулярны інтэрнэт. І такім чынам гэта, магчыма, трохі больш прымальным для вашых кліентаў калі гэта больш з Інтэрнэту рэч, чым acme.com рэч. Але гэта накшталт падману. 

Так што з пункту гледжання іншых рэчаў, каб глядзець на, проста так, што мы не выключаем іншых, калі вы ідзяце ў Microsoft Azure, яны маюць як Linux і Windows, рэчы што супастаўна з Amazon. Калі вы ідзяце ў Google Compute Engine, у іх ёсць нешта падобнае, а таксама. І проста закругліць гэтыя хмарныя прапановы, Я славім яшчэ адну рэч. Гэта папулярны вэб-сайт гэта прадстаўнік класа тэхналогій. Тыя, каго мы толькі што гаварылі о, Amazon, будзе МААН, Інфраструктура як сэрвіс, дзе вы свайго роду фізічнае абсталяванне ў якасці службы. Там у SAAS. На самай справе, дазвольце мне коратка гэтыя ўніз. 

IAAS-- інфраструктура Як служба, SAAS, і PAAS, якія з'яўляюцца дзіўна заблытаныя акронимы якія апісваюць тры розныя тыпы рэчаў. І самі абрэвіятуры на самай справе не мае значэння. Гэта ўсё рэчы аблокаў мы толькі што казалі пра тое, матэрыял больш нізкі ўзровень, віртуалізацыі апаратных сродкаў і захоўвання у так званым воблаку, няхай гэта будзе Amazon, Microsoft, Google, ці іншай. 

Праграмнае забеспячэнне як service-- усе з нас свайго роду выкарыстоўваць гэтую функцыю. Пры выкарыстанні Службаў Google для Gmail або календарамі, любы з гэтых вэб- прыкладання, якія 10 гадоў таму мы будзе двойчы націснуў на абразкі наш настольны кампутар, праграмнае забеспячэнне як паслуга зараз сапраўды вэб-дадатак. І як платформа Сэрвіс выгляд залежыць шмат ад чаго. 

І адзін прыклад я дам вам тут у кантэксце хмарных computing-- ёсць адна кампанія, якая даволі папулярныя ў гэтыя дні, Heroku. І яны гэта паслуга, платформа, калі вы будзеце, які працуе на вяршыні Інфраструктура Амазонкі. І яны проста робяць яго яшчэ прасцей для распрацоўшчыкаў і інжынераў каб атрымаць вэб-прыкладанняў у Інтэрнэце. 

Гэта боль, першапачаткова, выкарыстоўваць Amazon Web Services і іншыя рэчы. Таму што вы на самай справе ёсць ведаць і разумець аб базах дадзеных і вэб-сервераў і балансавання нагрузкі і ўсе рэчы Я толькі што казаў пра. Таму што ўсе Amazon зрабіў гэта не скрытыя гэтыя канструктыўныя праблемы. Яны толькі виртуализировать іх і перамясціць іх у браўзэры, ў праграмнае забеспячэнне, а не апаратнага забеспячэння. 

Але такія кампаніі, як Heroku і іншых правайдэры PaaS, платформа як сэрвіс, яны выкарыстоўваюць гэтыя асновы Barebone што мы толькі што казалі пра тое, і яны будуюць лягчэй выкарыстоўваць праграмнае забеспячэнне на ім так што калі вы хочаце, каб атрымаць вэб- прыкладанняў онлайн ў гэтыя дні, Вы, вядома, павінны ўмець праграмаваць. Вы павінны ведаць, Java або Python або PHP або Рубі або куча іншых моў. 

Але вам таксама трэба месца, каб змясціць яго. І мы казалі раней аб атрыманне вэб-хостынгу кампаніі. Гэта свайго роду, як у сярэдзіне 2000-х падыход да атрымаць што-то ў Інтэрнэце. У цяперашні час вы маглі б замест таго, каб плаціць каму-то як Heroku некалькі даляраў у месяц. І па сутнасці справы, як толькі вы зрабіў некаторую пачатковую канфігурацыю, абнавіць свой вэб-сайт, вы проста ўвядзіце каманду ў акне. І незалежна ад таго кода вы напісалі тут на вашым ноўтбуку неадкладна атрымлівае размяркоўваецца на любы лік сервераў у воблаку. 

І Heroku клапоціцца аб ўсе складанасці. Яны мяркуюць, што ўсе базы дадзеных матэрыял, усё балансіроўка нагрузкі, усе галаўныя болі, якія мы проста напісана на дошцы, і схаваць усё, што для вас. І ў сваю чаргу, вы проста плаціць ім трохі больш. Такім чынам, у вас ёсць такі інфраструктуры, як сэрвіс, платформы як сэрвіс, а затым праграмнае забеспячэнне як паслуга. Гэта, зноў жа, гэта абстракцыя або напластаванне. 

Любыя пытанні на воблаку або будаўніцтва ўласнай інфраструктуры? Добра, што было шмат. Чаму б нам не пайсці далей і прыняць нашу 15-хвілінны перапынак тут. Мы вернемся з некалькімі новымі канцэпцыямі і трохі практычнай магчымасці да таго, як вечар скончыўся. 